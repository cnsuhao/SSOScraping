{"link":"mentoringmindsonline.com","html":"<head>\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\">\n    <script type=\"text/javascript\" src=\"js-min/events/advents.js\"></script>\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no\">\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n    <title></title>\n    <script type=\"text/javascript\" src=\"js-min/utils/jquery.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/mysCommon.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/appcachePreloader.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/pubsub.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/sjcl.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/profiler/mysProfiler.js\"></script>\n    <script type=\"text/javascript\">\n        // TODO Profiler should be defined before here, but not in FF\n        Profiler.flushMark = 'app.validate-policy-seats.end';\n        Profiler.threshold('app.loginPage.start', 'app.loginPage.end', mys.defThresholdMsec);\n        Profiler.mark('app.loginPage.start');\n        Profiler.mark('app.require.start');\n    </script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"dojo-1.10.1/dojo/resources/dojo.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"dojo-1.10.1/dijit/themes/claro/claro.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"dojo-1.10.1/dgrid/css/skins/claro.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"dojo-1.10.1/dgrid/css/dgrid.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"dojo-1.10.1/dojox/mobile/themes/custom/custom.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"dojo-1.10.1/dojox/widget/Toaster/Toaster.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style/mysStyle.css\">\n    <style>\n        #bottom-links {\n            position: relative;\n            height: 50px;\n            margin-top: 30px;\n        }\n        #bottom-links .dijitButtonNode {\n            vertical-align: top;\n        }\n        #forgotPassword,\n        #newSchoolLink,\n        #newSchoolLink2,\n        #new-user-btn_label {\n            text-decoration: underline;\n        }\n        #new-user-btn:focus, #forgotPassword:focus {\n            background-image: -webkit-gradient(linear, left top, left bottom, from(#bbbbbb), to(#999999));\n            background-image: linear-gradient(to bottom, #bbbbbb 0%, #999999 100%);\n        }\n        #forgotPassword,\n        #newSchoolLink,\n        #newSchoolLink2,\n        #bottom-links span.mblButton {\n            position: absolute;\n            font-family: tahoma;\n            font-size: 11px;\n            font-weight: normal;\n        }\n        #forgotPassword,\n        #newSchoolLink,\n        #newSchoolLink2,\n        #bottom-links span.mblButton {\n            color: #492F91;\n            cursor: pointer;\n            float: left;\n            border: 0;\n            background: none;\n            height: 10px;\n            margin: 0;\n            padding: 0;\n        }\n        #bottom-links span.mblButton {\n            left: 12px;\n            top: 7px;\n            height: 22px;\n        }\n        #pwrbymysatori {\n            position: absolute;\n            bottom: 0;\n            right: 21px;\n            padding-right: 0;\n        }\n        #forgotPassword {\n            right: 21px;\n            top: 12px;\n        }\n        #newSchoolLink {\n            left: 21px;\n            top: 12px;\n        }\n        #newSchoolLink2 {\n            left: 21px;\n            top: 37px;\n        }\n        #loginRect {\n            position: relative;\n        }\n        #widget_loginUserID {\n            width: 280px;\n        }\n        #widget_userPasswd {\n            float: left;\n            width: 200px;\n            margin-left: 20px;\n        }\n        #sign-in {\n            float: right;\n            cursor: pointer;\n            margin-right: 20px;\n            height: 27px;\n            line-height: 20px;\n            width: 70px;\n            padding: 0px;\n        }\n        #sign-in:focus {\n          background-image: -webkit-gradient(linear, left top, left bottom, from(#bbbbbb), to(#999999));\n          background-image: linear-gradient(to bottom, #bbbbbb 0%, #999999 100%);\n        }\n        .terms-dialog .ui-dialog-buttonset .ui-button {\n            border: 1px solid #999999;\n            color: #212121;\n        }\n        .apple {\n            height: 250px;\n            width: 302px;\n            background-repeat: no-repeat;\n        }\n        #privacyPledge {\n            background-image: url(\"images/privacy_pledge.png\");\n            background-repeat: no-repeat;\n            width: 122px;\n            height: 60px;\n            position: absolute;\n            bottom: 45px;\n            right: 80px;\n            z-index: 5;\n        }\n        #privacyPledgeLink {\n            width: 122px;\n            height: 60px;\n            position: absolute;\n            bottom: 0px;\n            right: 0px;\n            background-color: transparent;\n        }\n        .ui-dialog .ui-resizable-se {\n            background-position: -64px -224px;\n            bottom: 1px;\n            right: 1px;\n            width: 16px;\n            height: 16px;\n        }\n        #studentSignUpDlg-grade {\n            display: block;\n            margin-bottom: 10px;\n            width: 118px;\n        }\n        #studentSignUpDlg-grade td.dijitButtonContents {\n            width: 100px;\n        }\n        .form_field label {\n            font-weight: bold;\n        }\n        #selSchoolTitle {\n            margin-bottom: 15px;\n        }\n        #sessionExpired {\n            margin: 0 auto 10px;\n            background-color: #ffffcc;\n            padding: .5em;\n            font-weight: normal;\n            width: 360px;\n            border: 1px solid #cacaca;\n            box-sizing: border-box;\n            font-size: 0.8em;\n        }\n        #sessionExpired p {\n            text-align: center;\n            margin: 0;\n        }\n        #teacherSignUpDlg-11, #teacherSignUpDlg-12 {\n            width: 395px;\n            margin: auto;\n        }\n        .newSchoolTooltip {\n            width: 300px;\n        }\n    </style>\n    <script type=\"text/javascript\" src=\"js-min/utils/modernizr-2.6.2.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/jquery.cookie.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/pouchdb.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/jsuri-1.1.1.min.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/sha1.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/md5.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/mojo.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/account/mysAccount.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/loginPage.js\"></script>\n    <script type=\"text/javascript\" src=\"js-min/utils/analytics.js\"></script>\n\n    <!-- dojo/javascript will go here -->\n    <script type=\"text/javascript\">\n        var bottomProgressMonitor = new ProgressMonitor(\"web-app-loading-progress-monitor\");\n        var dialogProgressMonitor = new ProgressMonitor(\"web-app-loading-progress-monitor2\");\n        mys.preloader = new Preloader(progressComplete, [bottomProgressMonitor, dialogProgressMonitor], true);\n        mys.preloader.load();\n\n        var dojoConfig = getDojoConfig();\n        var db;\n        var blockEvents = false;\n        var toast = null;\n        var creatingFirstUser = false;\n        var creatingStudent = false;\n    </script>\n    <script type=\"text/javascript\" charset=\"utf-8\" src=\"dojo-1.10.1/dojo/nls/dojo_en-us.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"dojo-1.10.1/dijit/form/MultiSelect.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"dojo-1.10.1/dojox/validate/web.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"dojo-1.10.1/xstyle/core/load-css.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"dojo-1.10.1/dojox/validate/_base.js\"></script><script type=\"text/javascript\" src=\"dojo-1.10.1/dojo/dojo.js\"></script>\n    <script type=\"text/javascript\">\n        require([\n            \"dojo/parser\",\n            \"dojo/on\",\n            \"dojo/mouse\",\n            \"dojo/dom\",\n            \"dojo/dom-construct\",\n            \"dojo/dom-style\",\n            \"dojo/promise/all\",\n            \"dojo/has\",\n            \"dijit/registry\",\n            \"dojox/mobile/TransitionEvent\",\n            \"dojo/store/Memory\",\n            \"dojo/_base/connect\",\n            \"dojo/data/ItemFileWriteStore\",\n            \"dgrid/OnDemandGrid\",\n            \"dgrid/extensions/ColumnResizer\",\n            \"dgrid/Selection\",\n            \"dgrid/selector\",\n            \"dojo/_base/declare\",\n            \"dijit/form/DropDownButton\",\n            \"dijit/DropDownMenu\",\n            \"dijit/MenuItem\",\n            \"dijit/form/Select\",\n            \"dijit/form/MultiSelect\",\n            \"dojox/validate/web\",\n            \"dojo/touch\",\n            \"dojo/ready\",\n            \"dojo/_base/sniff\",\n            \"dojo/store/Observable\",\n            \"dojo/hash\",\n            \"dojox/mobile/parser\",\n            \"dojox/mobile\",\n            \"dojox/mobile/compat\",\n            \"dojox/mobile/TextBox\",\n            \"dojox/mobile/bookmarkable\",\n            \"dojox/mobile/Button\",\n            \"dojox/mobile/IconContainer\",\n            \"dojox/mobile/TabBar\",\n            \"dojox/mobile/TabBarButton\",\n            \"dojox/mobile/Tooltip\",\n            \"dojox/mobile/ScrollableView\",\n            \"dojox/mobile/SimpleDialog\",\n            \"dojox/mobile/StoreCarousel\",\n            \"dojox/mobile/RoundRectDataList\",\n            \"dojox/mobile/IconItem\",\n            \"dojox/mobile/CheckBox\",\n            \"dojox/widget/Toaster\",\n            \"dojox/widget/Standby\",\n            \"dijit/Dialog\",\n            \"dijit/Tooltip\",\n            \"dijit/_base/manager\", // dijit.byId in markup\n            \"dijit/form/CheckBox\",\n            \"dijit/form/TextBox\",\n            \"dijit/form/ValidationTextBox\",\n            \"dijit/layout/BorderContainer\",\n            \"dijit/layout/ContentPane\",\n            \"dijit/layout/StackContainer\",\n            \"dojo/NodeList-dom\",\n            \"dojo/domReady!\"\n        ], function(parser, on, mouse, dom, domConstruct, domStyle, all, has, registry,\n            TransitionEvent, MemoryStore, connect, ItemFileWriteStore, Grid,\n            ColumnResizer, Selection, selector, declare, DropDownButton,\n            DropDownMenu, MenuItem, Select, MultiSelect, validate, touch, ready) {\n\n            Profiler.mark('app.require.end');\n            parser.parse();\n            mys.on = on;\n            mys.promiseAll = all;\n            mys.domConstruct = domConstruct;\n            mys.validate = validate;\n            mys.has = has;\n            mys.mouse = mouse;\n            if (dojo.isIos || dojo.isSafari) {\n                // we can only ask once so get what we need\n                openDatabase('Mentoring Minds Online', '1.0', 'bigun', 11 * 1024 * 1024);\n            }\n\n            checkForExpiredSesssion();\n\n            gotoView = function(from, to, transition, transitionDir) {\n                var dir = transitionDir || 1;\n                var trans = transition || \"slide\";\n                var widget = dijit.registry.byId(from);\n                var opts = {\n                    moveTo: to,\n                    transition: trans,\n                    transitionDir: dir\n                };\n                var ev = new TransitionEvent(widget.domNode, opts);\n                ev.dispatch();\n            };\n\n            ready(function() {\n                initGlobals().then(function() {\n                    document.dojoClick = false;\n                    Profiler.mark('app.dojo-dialogs');\n                    var pInfo = mys.getPubInfo(),\n                        wrapped,\n                        menuItems,\n                        signUpMenu,\n                        signUpButton,\n                        newSchoolLink;\n                    enableDojoClickForElements(['.mysCloseButton', '.mblButton']);\n                    if (pInfo.loginLogo) {\n                        $('.motivationOnline').css('backgroundImage', 'url(\"' + pInfo.loginLogo + '\")');\n                    }\n                    else {\n                        $('.motivationOnline').css('height', '15px');\n                    }\n                    if (pInfo.hidePoweredBy) {\n                        dojo.style(\"pwrbymysatori\", \"visibility\", \"hidden\");\n                    }\n                    document.title = pInfo.pageTitle;\n                    $('head').append('<link href=\"' + pInfo.favicon + '\" rel=\"shortcut icon\" type=\"image/x-icon\" />');\n                    if (pInfo.loginResourcesLink) {\n                        dojo.byId('resourceLink').href = pInfo.loginResourcesLink;\n                    }\n                    if (pInfo.hideLoginResourcesLink) {\n                        dojo.style('resourceLink', 'display', 'none');\n                    }\n                    // if (!pInfo.hideLoginRenewalLink) {\n                    //     dojo.style('renewal', 'display', 'block');\n                    // }\n                    if (pInfo.name === 'ProEd' && !pInfo.hideLoginWFooter) {\n                        $('#bottomBar').css('background', '#303071');\n                        $('#bottomBar').html('<img src=\"images/proed/footer.png\" style=\"z-index: 10; position: relative;\">'+\n                        '<div style=\"width: 50%;  height: 100%; position: relative; top: -49px; float: right; background: #8E0D46; z-index: 0;\"></div>');\n                        $('.squares').css('display', 'none');\n                    }\n                    if (pInfo.name === 'ProEd' || pInfo.name === 'Protocol Laboratories') {\n                        $('#newSchoolDlg-jobTitle').hide();\n                        $('#newSchoolDlg-login').html('Sign In');\n                    }\n                    if (pInfo.hideLoginWFooter) {\n                        $('.squares').css('display', 'none');\n                        $('#bottomBar').css('display', 'none');\n                    }\n                    if (pInfo.appleImgForLoginPage) {\n                        $('.apple').css('backgroundImage', 'url(\"' + pInfo.appleImgForLoginPage + '\")');\n                    }\n                    if (pInfo.hideForgotPassword) {\n                        $('#forgotPassword').css('display', 'none');\n                    }\n                    mys.domConstruct.place('<a id=\"publisherLink\" href=\"' + pInfo.url + '\" target=\"_blank\"><div class=\"logo\"></div></a>', 'pubLinkDiv', 'first');\n                    if (pInfo.linkLogo) {\n                        $('.logo').css(\"backgroundImage\", \"url('\" + pInfo.linkLogo + \"')\");\n                    }\n                    else {\n                        $('.logo').css(\"backgroundImage\", \"url('images/mm_small_logo_t.png')\");\n                    }\n                    if (pInfo.hideLogo) {\n                        $('.logo').hide();\n                    }\n                    if (pInfo.hidePrivacyPledge) {\n                        $('#privacyPledge').hide();\n                    }\n                    showContactUsDlg = function(e) {\n                        registry.byId(\"contactUsDlg\").show();\n                    };\n                    hideContactUsDlg = function() {\n                        registry.byId(\"contactUsDlg\").hide();\n                    };\n\n                    $('#loginUserID, #userPasswd').on('keydown', function(e) {\n                        if (e.keyCode === 13) {\n                            onSignIn();\n                            e.stopPropagation();\n                            e.preventDefault();\n                        }\n                    });\n                    wrapped = false;\n                    menuItems = [{\n                        label: 'Student',\n                        role: 'Student',\n                        cb: showStudentSignup,\n                        ctx: 'studentSignUpDlg',\n                        register: 'school',\n                        fields: [\n                            'classCode',\n                            'first',\n                            'middle',\n                            'last',\n                            'uid',\n                            'grade',\n                            'password',\n                            'passwordConfirm'\n                        ]\n                    }, {\n                        label: 'Teacher',\n                        role: 'Instructor',\n                        cb: showTeacherSignup,\n                        ctx: 'teacherSignUpDlg',\n                        register: 'school',\n                        fields: [\n                            'zip',\n                            'schoolList',\n                            'email',\n                            'emailConfirm',\n                            'password',\n                            'passwordConfirm',\n                            'first',\n                            'last',\n                            'registrationCode',\n                            'jobTitle'\n                        ]\n                    }, {\n                        label: 'School Admin',\n                        role: 'School Admin',\n                        cb: showAdminSignup,\n                        ctx: 'adminSignUpDlg',\n                        register: 'school',\n                        fields: [\n                            'zip',\n                            'schoolList',\n                            'email',\n                            'emailConfirm',\n                            'password',\n                            'passwordConfirm',\n                            'first',\n                            'last',\n                            'jobTitle',\n                            'adminCode'\n                        ]\n                    }, {\n                        label: 'District Admin',\n                        role: 'District Admin',\n                        cb: showAdminSignup,\n                        ctx: 'adminSignUpDlg',\n                        register: 'district',\n                        fields: [\n                            'zip',\n                            'schoolList',\n                            'email',\n                            'emailConfirm',\n                            'password',\n                            'passwordConfirm',\n                            'first',\n                            'last',\n                            'jobTitle',\n                            'adminCode'\n                        ]\n                    }];\n                    signUpMenu = new DropDownMenu();\n                    signUpButton = new DropDownButton({\n                        label: 'New User',\n                        name: 'new-user-btn',\n                        dropDown: signUpMenu,\n                        'class': 'mblButton mblGreyButton',\n                        id: 'new-user-btn',\n                        tabindex: 4\n                    });\n                    menuItems.forEach(function(item) {\n                        if ((dojo.isIos && mys.options.ipadStudentsOnly && item.role !== 'Student') ||\n                                (pInfo.shortName === 'WTW' && item.role !== 'Student')) {\n                            return;\n                        }\n                        var buffer = ' &nbsp;&nbsp;';\n                        var menuItem = new MenuItem({\n                            label: buffer + item.label + buffer,\n                            onClick: function() {\n                                blockEvents = true;\n                                /*\n                                 * Set the signup dialog state. This lets us know where\n                                 * they are at in the process.\n                                 */\n                                mys.wizDlg = {\n                                    init: false,\n                                    visible: false,\n                                    state: 0,\n                                    ctx: item.ctx,\n                                    valid: [],\n                                    invalid: [],\n                                    groups: [],\n                                    fields: item.fields,\n                                    visibleFields: [],\n                                    fieldData: {},\n                                    register: item.register,\n                                    label: item.label,\n                                    role: item.role,\n                                    subscribe: false,\n                                    cb: item.cb\n                                };\n                                /*\n                                 * IE submits focused forms by default, regardless\n                                 * if they are visible in the DOM\n                                 */\n                                cSchool = null;\n                                $('#' + item.ctx)\n                                    .off('keydown')\n                                    .on('keydown', function(e) {\n                                        if (e.keyCode === 13) {\n                                            $('#' + item.ctx + '-next').click();\n                                            e.preventDefault();\n                                            e.stopPropagation();\n                                        }\n                                    });\n                                $('#' + item.ctx + '-back').hide();\n                                $('#' + item.ctx + '-next').html('Next');\n                                $('#' + item.ctx + ' .dialogTitle').empty();\n                                $('#' + item.ctx + ' input').val('');\n                                item.cb();\n                                blockEvents = false;\n                            }\n                        });\n                        signUpMenu.addChild(menuItem);\n                    });\n                    if (!pInfo.hideLoginCreateAccountLink) {\n                        domConstruct.place(signUpButton.domNode, 'bottom-links', 0);\n                    }\n                    $(signUpButton.domNode).on('mousedown touchstart', function() {\n                        if (!wrapped) {\n                            wrapDropDown(signUpMenu.domNode, $(signUpButton.domNode).width(), 3);\n                            wrapped = true;\n                        }\n                    });\n                    if (!pInfo.hideLoginNewSchoolLink) {\n                        if (pInfo.hideLoginCreateAccountLink) {\n                            newSchoolLink = domConstruct.toDom('<a id=\"newSchoolLink\">' +  pInfo.loginNewSchoolLinkLabel + '</a>');\n                        }\n                        else {\n                            newSchoolLink = domConstruct.toDom('<a id=\"newSchoolLink2\">' +  pInfo.loginNewSchoolLinkLabel + '</a>');\n                        }\n                        domConstruct.place(newSchoolLink, 'bottom-links', 0);\n                        mys.on(newSchoolLink, 'mouseover', function(e) {\n                            var toolTipMsg = '<div class=\"newSchoolTooltip\">' + pInfo.loginNewSchoolLinkTooltip + '</div>';\n                            dijit.Tooltip.show(toolTipMsg, newSchoolLink, ['below']);\n                            mys.on.once(newSchoolLink, 'mouseout', function(e) {\n                                dijit.Tooltip.hide(newSchoolLink);\n                            });\n                        });\n                        $(newSchoolLink).on('click', function(e) {\n                            e.preventDefault();\n                            var item = {\n                                label: pInfo.loginNewSchoolLinkLabel,\n                                role: 'School Admin',\n                                cb: showNewSchoolDlg,\n                                ctx: 'newSchoolDlg',\n                                register: 'school',\n                                fields: [\n                                    'zip',\n                                    'schoolList',\n                                    'email',\n                                    'emailConfirm',\n                                    'password',\n                                    'passwordConfirm',\n                                    'first',\n                                    'last',\n                                    'subscriptionCode',\n                                    'jobTitle'\n                                ]\n                            };\n                            mys.wizDlg = {\n                                init: false,\n                                visible: false,\n                                state: 0,\n                                ctx: item.ctx,\n                                valid: [],\n                                invalid: [],\n                                groups: [],\n                                fields: item.fields,\n                                visibleFields: [],\n                                fieldData: {},\n                                register: item.register,\n                                label: item.label,\n                                role: item.role,\n                                subscribe: false,\n                                cb: item.cb\n                            };\n                            cSchool = null;\n                            $('#' + item.ctx)\n                                    .off('keydown')\n                                    .on('keydown', function(e) {\n                                        if (e.keyCode === 13) {\n                                            $('#' + item.ctx + '-next').click();\n                                            e.preventDefault();\n                                            e.stopPropagation();\n                                        }\n                                    });\n                            $('#' + item.ctx + '-back').hide();\n                            $('#' + item.ctx + '-next').html('Next');\n                            $('#' + item.ctx + ' .dialogTitle').empty();\n                            $('#' + item.ctx + ' input').val('');\n                            item.cb();\n                        });\n                    }\n\n                    /////////////////////////// Student Sign Up\n                    function showStudentSignup() {\n                        var showStudentSignupDef = new dojo.Deferred(),\n                            state = mys.wizDlg.state,\n                            ctx = mys.wizDlg.ctx,\n                            ctxDiv = $('#' + ctx),\n                            title = 'Student Sign Up',\n                            actionsDiv =  $('#' + ctx + '-actions'),\n                            opts = {},\n                            fieldData = mys.wizDlg.fieldData,\n                            message,\n                            onNextClick;\n\n                        if (!mys.wizDlg.init) {\n                            resetFields(mys.wizDlg.fields, ctx);\n                            mys.wizDlg.init = true;\n                        }\n                        onNextClick = function () {\n                            signUpNext();\n                        };\n                        console.debug('state', state);\n                        mys.wizDlg.visibleFields = [];\n                        $('#' + ctx + '-next').text('Next').show()\n                            .attr('disabled', true);\n                        $('#' + ctx + '-back').text('Back').show();\n                        switch (state) {\n                            case 0:\n                                mys.wizDlg.visibleFields = ['classCode'];\n                                setSignUpTitle(title);\n                                setSignUpMessage('Enter the Sign-Up Code from your teacher.', 0);\n                                hideSignUpBack();\n                                hideSignUpStep(state + 1);\n                                onNextClick = function() {\n                                    var codeField = dijit.byId(ctx + '-classCode');\n                                    ctxDiv.addClass('is-loading');\n                                        classCodeValidation(codeField.value, {field: codeField}).then(function(results) {\n                                            if (results.isValid) {\n                                                mys.wizDlg.groups.push(results.data._id);\n                                                fetchFromStore(results.data.fk_school).then(function(school) {\n                                                    if (school) {\n                                                        cSchool = school;\n                                                        userStore = createEmptyStore();\n                                                        SchoolAccount.getUsers(cSchool._id, {\n                                                            store: userStore\n                                                        }).then(function() {\n                                                            ctxDiv.removeClass('is-loading');\n                                                            signUpNext();\n                                                        })\n                                                    }\n                                                    else {\n                                                        ctxDiv.removeClass('is-loading');\n                                                        mysAlert('Unable to find school associated with this Sign-Up Code.');\n                                                    }\n                                                });\n                                            }\n                                            else {\n                                                ctxDiv.removeClass('is-loading');\n                                                mysAlert(results.message);\n                                            }\n                                        });\n                                };\n                                showStudentSignupDef.resolve({\n                                    target: 'first',\n                                    disable: false\n                                });\n                                break;\n                            case 1:\n                                mys.wizDlg.visibleFields = [\n                                    'first',\n                                    'middle',\n                                    'last',\n                                    'uid',\n                                    'grade',\n                                    'password',\n                                    'passwordConfirm'\n                                ];\n                                setSignUpTitle(cSchool.name + '<span><br>' + title + '</span>');\n                                message = 'Fill in the fields to create your account.<br />' +\n                                'Both User ID and Password must be at least 6 characters long ' +\n                                'and they must not be the same.';\n                                setSignUpMessage(message, 0);\n                                hideSignUpStep(state - 1);\n                                hideSignUpStep(state + 1);\n                                hideSignUpBack();\n                                onNextClick = function() {\n                                    var fields = {\n                                                firstName: ctx + '-first',\n                                                lastName: ctx + '-last',\n                                                userId: ctx + '-uid',\n                                                gradeLvl: ctx + '-grade',\n                                                password: ctx + '-password',\n                                                passwordConfirm: ctx + '-passwordConfirm'\n                                            },\n                                            validation = isAllValid(fields, {role: STUDENT_ROLE}),\n                                            errorMessages = '';\n\n                                    if (!validation.isValid) {\n                                        errorMessages = validation.errors.join('<br>');\n                                        mysAlert(errorMessages);\n                                    }\n                                    else {\n                                        signUpNext();\n                                    }\n                                };\n                                showStudentSignupDef.resolve({\n                                    target: 'first',\n                                    disable: false\n                                });\n                                break;\n                            case 2:\n                                $('#' + ctx).addClass('is-loading');\n                                isUniqueAccount(fieldData.uid, fieldData.password, cSchool._id).then(function(account) {\n                                    $('#' + ctx).removeClass('is-loading');\n                                    if (account && account.schoolUnique && account.globalUnique) {\n                                        opts.user = User.create('student', {\n                                            fk_school: cSchool._id,\n                                            grade: fieldData.grade,\n                                            first_name: fieldData.first,\n                                            last_name: fieldData.last,\n                                            middle_name: fieldData.middle,\n                                            roles: [mys.wizDlg.role],\n                                            user_id: fieldData.uid,\n                                            user_password: fieldData.password\n                                        });\n                                        opts.hasUI = false;\n                                        opts.schoolId = cSchool._id;\n                                        opts.groups = mys.wizDlg.groups;\n                                        hideSignUpBack();\n                                        registry.byId(ctx).hide();\n                                        pageStandby.show();\n\n                                        groupStore = createEmptyStore();\n                                        fetchFromStore(opts.groups, {\n                                            store: groupStore\n                                        }).then(function() {\n                                            syncTitleDocs().then(function() {\n                                                Policy.validateGroupsPolicySeats({\n                                                    groups: opts.groups,\n                                                    schoolId: cSchool._id\n                                                }).then(function(policyData) {\n                                                    if (policyData.errors.length) {\n                                                        mysAlert('There was a problem joining this class. There are no seats left. Please contact your teacher.');\n                                                        pageStandby.hide();\n                                                        registry.byId(ctx).show();\n                                                        signUpBack();\n                                                    }\n                                                    else {\n                                                        opts.referrer = 'registration';\n                                                        saveNewUser(opts).then(function(userDoc) {\n                                                            var fullName = opts.user.first_name + ' ' + opts.user.last_name;\n\n                                                            hideSignUpStep(state - 1);\n                                                            hideSignUpStep(state - 2);\n                                                            setSignUpTitle(cSchool.name + '<span>: ' + fullName + '</span>');\n                                                            setSignUpMessage('<h3>Congratulations!</h3><p>You are all set up.</p>', 0);\n                                                            $('#' + ctx + '-next').html('Sign In');\n                                                            registry.byId(ctx + '-next').set('disabled', false);\n                                                            pageStandby.hide();\n                                                            registry.byId(ctx).show();\n                                                            loggedInUser = {\n                                                                userDoc: userDoc\n                                                            };\n                                                        });\n                                                    }\n                                                }, function(err) {\n                                                    console.error(err);\n                                                    mysAlert('An unknown error occurred');\n                                                    pageStandby.hide();\n                                                    registry.byId(ctx).show();\n                                                    signUpBack();\n                                                });\n                                            });\n                                        });\n                                    }\n                                    else {\n                                        mysAlert('The User ID entered is not available. Please choose a different User ID.');\n                                        signUpBack();\n                                    }\n                                });\n                                break;\n                            case 3:\n                                actionsDiv.hide();\n                                loginToMysW();\n                                break;\n                            default:\n                                break;\n                        }\n                        actionsDiv\n                                .off('click', '#' + ctx + '-next')\n                                .on('click', '#' + ctx + '-next', function(e) {\n                                    e.stopPropagation();\n                                    onNextClick();\n                                });\n                        showStudentSignupDef.then(showNextStep);\n                    }\n                    ////////////////////// Teacher Sign Up\n                    function showTeacherSignup() {\n                        var showTeacherSignupDef = new dojo.Deferred(),\n                            state = mys.wizDlg.state,\n                            label = mys.wizDlg.label,\n                            ctx = mys.wizDlg.ctx,\n                            ctxDiv = $('#' + ctx),\n                            register = mys.wizDlg.register,\n                            title = label + ' Registration',\n                            fieldData = mys.wizDlg.fieldData,\n                            classTitles = $('#' + ctx + '-classTitles'),\n                            teacherDlg = $('#teacherSignUpDlg'),\n                            teacherDlgDijit = dijit.byId('teacherSignUpDlg'),\n                            actionsDiv = $('#' + ctx + '-actions'),\n                            selectedCode;\n\n                        if (!mys.wizDlg.init) {\n                            actionsDiv\n                                .off('click', '#' + ctx + '-back')\n                                .on('click', '#' + ctx + '-back', function(e) {\n                                    e.stopPropagation();\n                                    if (mys.wizDlg.state === 6) {\n                                        signUpGoTo(9);\n                                    } else {\n                                        signUpBack();\n                                    }\n                                })\n                                .off('click', '#' + ctx + '-next')\n                                .on('click', '#' + ctx + '-next', function(e) {\n                                    e.stopPropagation();\n                                    signUpNext();\n                                });\n                            $('#' + ctx + '-subscribe').attr('checked', false);\n                            resetFields(mys.wizDlg.fields, ctx);\n                            mys.wizDlg.codeTitles = {};\n                            mys.wizDlg.codeDocs = {};\n                            classTitles.empty();\n                            mys.wizDlg.init = true;\n                        }\n\n                        $('#' + ctx + '-next').text('Next').show()\n                            .attr('disabled', true);\n                        $('#' + ctx + '-back').text('Back').show();\n                        console.debug('state', state);\n                        mys.wizDlg.visibleFields = [];\n\n                        switch (state) {\n                            case 0:\n                                teacherDlg.css('width', '400px');\n                                teacherDlgDijit.resize();\n                                hideSignUpBack();\n                                mys.wizDlg.visibleFields = ['registrationCode'];\n                                actionsDiv\n                                        .off('click', '#' + ctx + '-next')\n                                        .on('click', '#' + ctx + '-next', function(e) {\n                                            var codeField = dijit.byId(ctx + '-registrationCode');\n                                            e.stopPropagation();\n                                            ctxDiv.addClass('is-loading');\n                                            teacherCodeValidation(codeField, codeField.value).then(function(result) {\n                                                ctxDiv.removeClass('is-loading');\n                                                if (!result.isValid) {\n                                                    setAsNotValid(codeField);\n                                                    showToasterMessage('registrationCodeInvalid');\n                                                }\n                                                else {\n                                                    mys.wizDlg.fieldData['registrationCode'] = toCanonicalCode(result.selectedCode);\n                                                    signUpNext();\n                                                }\n                                            })\n                                        });\n                                showTeacherSignupDef.resolve({\n                                    target: 'registrationCode',\n                                    disable: false\n                                });\n                                break;\n                            case 1:\n                                teacherDlgDijit.resize();\n                                selectedCode = fieldData.registrationCode = toCanonicalCode(fieldData.registrationCode);\n                                ctxDiv.addClass('is-loading');\n                                fetchFromView({\n                                    view: 'te_keys/codes',\n                                    queryParams: {\n                                        startkey: ['te_serial_num', selectedCode],\n                                        endkey: ['te_serial_num', selectedCode, '\\u9999']\n                                    },\n                                    db: mys.dbs.codes.db\n                                }).then(function(docs) {\n                                    ctxDiv.removeClass('is-loading');\n                                    if (docs.length) {\n                                        mys.wizDlg.visibleFields = [\n                                            'zip',\n                                            'schoolList',\n                                            'first',\n                                            'last',\n                                            'email',\n                                            'emailConfirm',\n                                            'password',\n                                            'passwordConfirm',\n                                            'jobTitle'\n                                        ];\n                                        if ($('#selSchoolTitle')[0] !== undefined) {\n                                            $('#selSchoolTitle').remove();\n                                        }\n                                        createZipCodeSelectList(ctx, register);\n                                        setSignUpTitle(title);\n                                        hideSignUpBack();\n                                        teacherDlg.css('width', '565px');\n                                        showTeacherSignupDef.resolve({\n                                            target: 'zip',\n                                            disable: false\n                                        });\n                                    } else {\n                                        signUpBack();\n                                        showToasterMessage('registrationCodeInvalid');\n                                    }\n\n                                });\n                                break;\n                            case 2:\n                                if (!mys.wizDlg.school) {\n                                    return signUpBack();\n                                }\n                                mys.wizDlg.visibleFields = [];\n                                setSignUpTitle(mys.wizDlg.school + '<br><span>Teacher Registration</span>');\n                                hideSignUpBack();\n                                hideSignUpNext();\n                                $('#' + ctx + '-2').removeClass('at-terms-accepted');\n                                showTeacherSignupDef.resolve({\n                                    disable: false,\n                                    target: 'show-terms'\n                                });\n                                break;\n                            case 3:\n                                hideSignUpBack();\n                                hideSignUpNext();\n                                $('#' + ctx).addClass('is-loading');\n                                loginToMysW();\n                                break;\n                            default:\n                                break;\n                        }\n\n                        showTeacherSignupDef.then(showNextStep);\n                    }\n\n                    ////////////////////// New School Dialog\n                    function showNewSchoolDlg() {\n                        var showNewSchoolDlgDef = new dojo.Deferred(),\n                            state = mys.wizDlg.state,\n                            label = mys.wizDlg.label,\n                            ctx = mys.wizDlg.ctx,\n                            ctxDiv = $('#' + ctx),\n                            register = mys.wizDlg.register,\n                            title = label,\n                            fieldData = mys.wizDlg.fieldData,\n                            classTitles = $('#' + ctx + '-classTitles'),\n                            newSchoolDlg = $('#newSchoolDlg'),\n                            newSchoolDlgDijit = dijit.byId('newSchoolDlg'),\n                            actionsDiv = $('#' + ctx + '-actions'),\n                            selectedCode;\n\n                        if (!mys.wizDlg.init) {\n                            actionsDiv\n                                    .off('click', '#' + ctx + '-back')\n                                    .on('click', '#' + ctx + '-back', function(e) {\n                                        e.stopPropagation();\n                                        if (mys.wizDlg.state === 6) {\n                                            signUpGoTo(9);\n                                        } else {\n                                            signUpBack();\n                                        }\n                                    })\n                                    .off('click', '#' + ctx + '-next')\n                                    .on('click', '#' + ctx + '-next', function(e) {\n                                        e.stopPropagation();\n                                        signUpNext();\n                                    });\n                            $('#' + ctx + '-subscribe').attr('checked', false);\n                            resetFields(mys.wizDlg.fields, ctx);\n                            mys.wizDlg.codeTitles = {};\n                            mys.wizDlg.codeDocs = {};\n                            classTitles.empty();\n                            mys.wizDlg.init = true;\n                        }\n\n                        $('#' + ctx + '-next').text('Next').show()\n                                .attr('disabled', true);\n                        $('#' + ctx + '-back').text('Back').show();\n                        console.debug('state', state);\n                        mys.wizDlg.visibleFields = [];\n\n                        switch (state) {\n                            case 0:\n                                setSignUpTitle(title);\n                                newSchoolDlg.css('width', '400px');\n                                newSchoolDlgDijit.resize();\n                                hideSignUpBack();\n                                mys.wizDlg.visibleFields = ['subscriptionCode'];\n                                actionsDiv\n                                        .off('click', '#' + ctx + '-next')\n                                        .on('click', '#' + ctx + '-next', function(e) {\n                                            var codeField = dijit.byId(ctx + '-subscriptionCode');\n                                            e.stopPropagation();\n                                            ctxDiv.addClass('is-loading');\n                                            subscriptionCodeValidation(codeField, codeField.value).then(function(result) {\n                                                ctxDiv.removeClass('is-loading');\n                                                if (!result.isValid) {\n                                                    setAsNotValid(codeField);\n                                                    showToasterMessage('subscriptionCodeInvalid');\n                                                }\n                                                else {\n                                                    mys.wizDlg.fieldData['subscriptionCode'] = toCanonicalCode(result.selectedCode);\n                                                    signUpNext();\n                                                }\n                                            })\n                                        });\n                                showNewSchoolDlgDef.resolve({\n                                    target: 'subscriptionCode',\n                                    disable: false\n                                });\n                                break;\n                            case 1:\n                                newSchoolDlgDijit.resize();\n                                selectedCode = fieldData.subscriptionCode = toCanonicalCode(fieldData.subscriptionCode);\n                                ctxDiv.addClass('is-loading');\n                                fetchFromView({\n                                    view: 'te_keys/codes',\n                                    queryParams: {\n                                        startkey: ['subscription', selectedCode],\n                                        endkey: ['subscription', selectedCode, '\\u9999']\n                                    },\n                                    db: mys.dbs.codes.db\n                                }).then(function(docs) {\n                                    ctxDiv.removeClass('is-loading');\n                                    if (docs.length) {\n                                        mys.wizDlg.subscriptionCodeDoc = docs[0];\n                                        if (mys.wizDlg.subscriptionCodeDoc.package.isHomeVersion) {\n                                            $('#newSchoolDlg-zip-container').hide();\n                                            $('#newSchoolDlg-school').hide();\n                                            $('#newSchoolDlg-userId-container').show();\n                                            mys.wizDlg.visibleFields = [\n                                                'first',\n                                                'last',\n                                                'email',\n                                                'userId',\n                                                'emailConfirm',\n                                                'password',\n                                                'passwordConfirm'\n                                            ];\n                                        }\n                                        else {\n                                            $('#newSchoolDlg-zip-container').show();\n                                            $('#newSchoolDlg-school').show();\n                                            $('#newSchoolDlg-userId-container').hide();\n                                            mys.wizDlg.visibleFields = [\n                                                'zip',\n                                                'schoolList',\n                                                'first',\n                                                'last',\n                                                'email',\n                                                'emailConfirm',\n                                                'password',\n                                                'passwordConfirm',\n                                                'jobTitle'\n                                            ];\n                                        }\n                                        if ($('#selSchoolTitle')[0] !== undefined) {\n                                            $('#selSchoolTitle').remove();\n                                        }\n                                        $('#' + ctx + '-actions')\n                                                .off('click', '#' + ctx + '-next')\n                                                .on('click', '#' + ctx + '-next', function(e) {\n                                                    var isHomeVersion = mys.wizDlg.subscriptionCodeDoc.package.isHomeVersion,\n                                                        fieldData = mys.wizDlg.fieldData,\n                                                        errorMessages = '',\n                                                        fields,\n                                                        message,\n                                                        emailField,\n                                                        userIdField,\n                                                        validation;\n                                                    if (isHomeVersion) {\n                                                        fields = {\n                                                            //zipCode: ctx + '-zip',\n                                                            //schoolList: ctx + '-schoolList',\n                                                            firstName: ctx + '-first',\n                                                            lastName: ctx + '-last',\n                                                            userId: ctx + '-userId',\n                                                            email: ctx + '-email',\n                                                            emailConfirm: ctx + '-emailConfirm',\n                                                            password: ctx + '-password',\n                                                            passwordConfirm: ctx + '-passwordConfirm',\n                                                            jobTitle: ctx + '-jobTitle'\n                                                        };\n                                                        validation = isAllValid(fields, {role: STUDENT_ROLE, isNewSchool: true, isHomeVersion: true});\n                                                    }\n                                                    else {\n                                                        fields = {\n                                                            zipCode: ctx + '-zip',\n                                                            schoolList: ctx + '-schoolList',\n                                                            firstName: ctx + '-first',\n                                                            lastName: ctx + '-last',\n                                                            userId: ctx + '-email',\n                                                            emailConfirm: ctx + '-emailConfirm',\n                                                            password: ctx + '-password',\n                                                            passwordConfirm: ctx + '-passwordConfirm',\n                                                            jobTitle: ctx + '-jobTitle'\n                                                        };\n                                                        validation = isAllValid(fields, {role: INSTRUCTOR_ROLE, isNewSchool: true, isHomeVersion: false});\n                                                    }\n\n//                                                        validation = isAllValid(fields, {role: INSTRUCTOR_ROLE, isNewSchool: true, isHomeVersion: mys.wizDlg.subscriptionCodeDoc.package.isHomeVersion}),\n//                                                        fieldData = mys.wizDlg.fieldData,\n//                                                        errorMessages = '',\n//                                                        message,\n//                                                        emailField;\n\n                                                    e.stopPropagation();\n                                                    if (!validation.isValid) {\n                                                        errorMessages = validation.errors.join('<br>');\n                                                        mysAlert(errorMessages);\n                                                    }\n                                                    else if (isHomeVersion) {\n                                                        isUniqueAccount(fieldData.userId, fieldData.password, null).then(function(account) {\n                                                            if (account && (!account.schoolUnique || !account.globalUnique)) {\n                                                                message = 'The User ID entered is already taken. Please choose a different User ID.';\n                                                                userIdField = dijit.byId(ctx + '-userId');\n                                                                userIdField.set('invalidMessage', message);\n                                                                setAsNotValid(userIdField);\n                                                                mysAlert(message);\n                                                            }\n                                                            else {\n                                                                fieldData.teacherPw = fieldData.firstName + fieldData.lastName + $.randomBetween(1000, 9999);\n                                                                isUniqueAccount(fieldData.email, fieldData.teacherPw, null).then(function(account) {\n                                                                    if (account && (!account.schoolUnique || !account.globalUnique)) {\n                                                                        message = 'The email entered is already taken. Please choose a different email address.';\n                                                                        emailField = dijit.byId(ctx + '-email');\n                                                                        emailField.set('invalidMessage', message);\n                                                                        setAsNotValid(emailField);\n                                                                        mysAlert(message);\n                                                                    }\n                                                                    else {\n                                                                        gotoTermsAndConditions();\n                                                                    }\n                                                                });\n                                                            }\n                                                        });\n                                                    }\n                                                    else {\n                                                        isUniqueAccount(fieldData.userId, fieldData.password, null).then(function(account) {\n                                                            if (account && (!account.schoolUnique || !account.globalUnique)) {\n                                                                message = 'The email entered is already taken. Please choose a different email address.';\n                                                                emailField = dijit.byId(ctx + '-email');\n                                                                emailField.set('invalidMessage', message);\n                                                                setAsNotValid(emailField);\n                                                                mysAlert(message);\n                                                            }\n                                                            else {\n                                                                gotoTermsAndConditions();\n                                                            }\n                                                        });\n                                                    }\n                                                });\n                                        setSignUpTitle(title);\n                                        hideSignUpBack();\n                                        newSchoolDlg.css('width', '565px');\n                                        showNewSchoolDlgDef.resolve({\n                                            target: 'zip',\n                                            disable: false\n                                        });\n                                    } else {\n                                        signUpBack();\n                                        showToasterMessage('subscriptionCodeInvalid');\n                                    }\n\n                                });\n                                break;\n                            case 2:\n                                mys.wizDlg.visibleFields = [];\n                                setSignUpTitle(title);\n                                hideSignUpBack();\n                                hideSignUpNext();\n                                $('#' + ctx + '-2').removeClass('at-terms-accepted');\n                                showNewSchoolDlgDef.resolve({\n                                    disable: false,\n                                    target: 'show-terms'\n                                });\n                                break;\n                            case 3:\n                                hideSignUpBack();\n                                hideSignUpNext();\n                                $('#' + ctx).addClass('is-loading');\n                                loginToMysW();\n                                break;\n                            default:\n                                break;\n                        }\n\n                        showNewSchoolDlgDef.then(showNextStep);\n                    }\n\n                    function resetFields(fields, ctx) {\n                        fields.forEach(function(fieldName) {\n                            var fieldId = (ctx)? ctx + '-' + fieldName : fieldName,\n                                field = dijit.byId(fieldId);\n                            field.reset();\n                            field.isValid = function () {\n                                return true;\n                            };\n                        })\n                    }\n\n                    function showNextStep(config) {\n                        var disabled = config.hasOwnProperty('disable') ?\n                                config.disable :\n                                true,\n                            target = config.target,\n                            ctx = mys.wizDlg.ctx,\n                            state = mys.wizDlg.state,\n                            focusId = target ? '#' + ctx + '-' + target : null,\n                            fieldData = mys.wizDlg.fieldData,\n                            visibleFields = mys.wizDlg.visibleFields;\n\n                        hideSignUpStep('all');\n                        showSignUpStep(state);\n                        registry.byId(ctx + '-next').set('disabled', disabled);\n\n                        visibleFields.forEach(function(fieldId) {\n                            var value = fieldData[fieldId],\n                                field;\n\n                            if (value !== undefined) {\n                                field = registry.byId(ctx + '-' + fieldId);\n                                field.set('value', value);\n                                field.focus();\n                            }\n                        });\n\n                        if (!mys.wizDlg.visible) {\n                            mys.wizDlg.visible = true;\n                            dlgOpen(ctx).then(focusField);\n                        }\n                        else {\n                            focusField();\n                        }\n\n                        function focusField() {\n                            if (focusId) {\n                                setTimeout(function() {\n                                    $(focusId).focus();\n                                }, 0);\n                            }\n                        }\n                    }\n\n                    ////////////////// Admin Signup\n                    function showAdminSignup() {\n                        var showAdminSignupDef = new dojo.Deferred(),\n                            state = mys.wizDlg.state,\n                            label = mys.wizDlg.label,\n                            ctx = mys.wizDlg.ctx,\n                            register = mys.wizDlg.register,\n                            actionsDiv =  $('#' + ctx + '-actions'),\n                            title = label + ' Registration',\n                            schoolList;\n\n                        if (!mys.wizDlg.init) {\n                            actionsDiv\n                                .off('click', '#adminSignUpDlg-back')\n                                .on('click', '#adminSignUpDlg-back', function(e) {\n                                    e.stopPropagation();\n                                    signUpBack();\n                                });\n                            $('#' + ctx + '-subscribe').attr('checked', false);\n                            resetFields(mys.wizDlg.fields, ctx)\n                            mys.wizDlg.init = true;\n                        }\n                        actionsDiv\n                                .off('click', '#adminSignUpDlg-next')\n                                .on('click', '#adminSignUpDlg-next', function(e) {\n                                    e.stopPropagation();\n                                    signUpNext();\n                                });\n\n                        $('#adminSignUpDlg-next').text('Next').show()\n                            .attr('disabled', true);\n                        $('#adminSignUpDlg-back').text('Back').show();\n                        console.debug('state', state);\n                        mys.wizDlg.visibleFields = [];\n\n                        switch (state) {\n                            case 0:\n                                mys.wizDlg.data = null;\n                                mys.wizDlg.visibleFields = [\n                                    'zip',\n                                    'schoolList',\n                                    'first',\n                                    'last',\n                                    'email',\n                                    'emailConfirm',\n                                    'password',\n                                    'passwordConfirm',\n                                    'jobTitle'\n                                ];\n                                createZipCodeSelectList(ctx, register);\n                                setSignUpTitle(title);\n                                hideSignUpBack();\n                                showAdminSignupDef.resolve({\n                                    target: 'zip',\n                                    disable: false\n                                });\n                                break;\n                            case 1:\n                                mys.wizDlg.visibleFields = ['adminCode'];\n                                setSignUpTitle(title);\n                                hideSignUpBack();\n                                actionsDiv\n                                        .off('click', '#adminSignUpDlg-next')\n                                        .on('click', '#adminSignUpDlg-next', function(e) {\n                                            var codeField = dijit.byId(ctx + '-adminCode'),\n                                                    valid = adminCodeValidation(codeField.value, {field: codeField});\n                                            e.stopPropagation();\n                                            if (!valid.isValid) {\n                                                setAsNotValid(codeField);\n                                                showToasterMessage('registrationCodeInvalid');\n                                            }\n                                            else {\n                                                mys.wizDlg.data = mys.adminCodesMap[codeField.value.trim().toUpperCase()];\n                                                gotoTermsAndConditions();\n                                            }\n                                        });\n                                showAdminSignupDef.resolve({\n                                    target: 'adminCode',\n                                    disable: false\n                                });\n                                break;\n                            case 2:\n                                mys.wizDlg.visibleFields = [];\n                                hideSignUpMessage(0);\n                                hideSignUpBack();\n                                hideSignUpNext();\n                                if (mys.wizDlg.data) {\n                                    $('#adminCongrats').css('display', 'block');\n                                    $('#adminMessage').css('display', 'none');\n                                }\n                                else {\n                                    $('#adminMessage p').html('Since you did not have a ' + mys.wizDlg.label + ' Code, we will need to verify <br> your information and activate your account. <br> An email will be sent when your account is ready.');\n                                    $('#adminCongrats').css('display', 'none');\n                                    $('#adminMessage').css('display', 'block');\n                                }\n                                showAdminSignupDef.resolve({\n                                    target: 'password',\n                                    disable: true\n                                });\n                                break;\n                            case 3:\n                                hideSignUpBack();\n                                hideSignUpNext();\n                                $('#' + ctx).addClass('is-loading');\n                                loginToMysW();\n                                break;\n                            default:\n                                break;\n                        }\n                        showAdminSignupDef.then(showNextStep);\n                    }\n\n                    function createZipCodeSelectList(ctx, type) {\n                        pageStandby.show();\n                        require([\n                            \"dojo/store/Memory\",\n                            \"dijit/form/ComboBox\"\n                            ],\n                            function(Memory, ComboBox) {\n                                var zipCodeSource = type === 'school' ?\n                                                    mys.schoolPostalData :\n                                                    mys.districtPostalData;\n                                var zipCodeStore = new Memory({\n                                    \"idProperty\": \"zipCode\"\n                                });\n                                var zipCodeCombo = dijit.byId(ctx + '-zip'),\n                                    schoolList = dijit.byId(ctx + '-schoolList'),\n                                    schoolListDefaulfOptions = type === 'school' ? [{value:'', label:'School name'}] : [{value:'', label:'District name'}];\n                                zipCodeCombo.onChange = function() {\n                                    zipCodeComboSearch();\n                                };\n                                zipCodeCombo.onFocus = function() {\n                                    zipCodeComboCheckValue();\n                                };\n                                schoolList.onChange = function() {\n                                    schoolListChanged(ctx, type);\n                                };\n\n                                $('#' + ctx + '-actions')\n                                        .off('click', '#' + ctx + '-next')\n                                        .on('click', '#' + ctx + '-next', function(e) {\n                                            var fields = {\n                                                        schoolList: ctx + '-schoolList',\n                                                        firstName: ctx + '-first',\n                                                        lastName: ctx + '-last',\n                                                        userId: ctx + '-email',\n                                                        emailConfirm: ctx + '-emailConfirm',\n                                                        password: ctx + '-password',\n                                                        passwordConfirm: ctx + '-passwordConfirm',\n                                                        jobTitle: ctx + '-jobTitle'\n                                                    },\n                                                validation = isAllValid(fields, {role: INSTRUCTOR_ROLE}),\n                                                fieldData = mys.wizDlg.fieldData,\n                                                errorMessages = '';\n\n                                            e.stopPropagation();\n                                            if (!validation.isValid) {\n                                                errorMessages = validation.errors.join('<br>');\n                                                mysAlert(errorMessages);\n                                            }\n                                            else {\n                                                isUniqueAccount(fieldData.userId, fieldData.password, cSchool._id).then(function(account) {\n                                                    if (account && (!account.schoolUnique || !account.globalUnique)) {\n                                                        var message = 'The email entered is already taken. Please choose a different email address.',\n                                                            emailField = dijit.byId(ctx + '-email');\n                                                        emailField.set('invalidMessage', message);\n                                                        setAsNotValid(emailField);\n                                                        mysAlert(message);\n                                                    }\n                                                    else {\n                                                        if (ctx === 'teacherSignUpDlg') {\n                                                            gotoTermsAndConditions();\n                                                        }\n                                                        else {\n                                                            signUpNext();\n                                                        }\n                                                    }\n                                                });\n                                            }\n                                        });\n\n                                zipCodeCombo.set(\"store\", zipCodeStore);\n                                zipCodeStoreUpdate();\n                                pageStandby.hide();\n                                zipCodeCombo.focus();\n\n                                function zipCodeStoreUpdate() {\n                                    var results = getPostalCodes(type);\n                                    results.forEach(function(zipCode) {\n                                        var entry = {};\n                                        entry.zipCode = zipCode;\n                                        try {\n                                            zipCodeStore.add(entry);\n                                        } catch(e) {\n                                            // zip already in store\n                                        }\n                                    });\n                                    zipCodeComboCheckValue();\n                                }\n\n                                function zipCodeComboCheckValue() {\n                                    var zipCode = zipCodeCombo.item ?\n                                            zipCodeCombo.item.zipCode :\n                                            zipCodeCombo.value;\n                                    var schools = zipCodeSource[zipCode];\n\n                                    if ((!schools || !schools.length) &&\n                                            zipCode.length === 5) {\n                                        showToasterMessage(\"zipCodeHasNoSchools\");\n                                        $(\"#selSchoolTitle\").remove();\n                                        schoolListReset();\n                                    }\n                                    else if (schools &&\n                                            zipCode &&\n                                            zipCode.length === 5) {\n                                        if (zipCodeComboCheckValue.timeout) {\n                                            clearTimeout(zipCodeComboCheckValue.timeout);\n                                        }\n                                        zipCodeComboCheckValue.timeout =\n                                         setTimeout(function() {\n                                            zipCodeCombo.closeDropDown();\n                                            delete zipCodeComboCheckValue.timeout;\n                                         }, 1000);\n                                    }\n                                    else {\n                                        schoolListReset();\n                                    }\n                                }\n\n                                function zipCodeComboSearch() {\n                                    var value = (zipCodeCombo.value || '').trim(),\n                                        source = zipCodeSource;\n\n                                    if (!value) { return; }\n\n                                    db.query('mys/zipcode', {\n                                        startkey: [type, value],\n                                        endkey: [type, value + '\\u9999'],\n                                        limit: 100\n                                    }, function(err, resp) {\n                                        if (resp && resp.rows) {\n                                            resp.rows.forEach(function(row) {\n                                                if (!source[row.key[1]]) {\n                                                    source[row.key[1]] = [];\n                                                }\n\n                                                var found;\n                                                source[row.key[1]].forEach(function(entry) {\n                                                    if (entry.id === row.id) {\n                                                        found = true;\n                                                    }\n                                                });\n                                                if (!found) {\n                                                    source[row.key[1]].push({\n                                                        name: row.key[2],\n                                                        id: row.id,\n                                                        row: row\n                                                    });\n                                                }\n                                            });\n                                            zipCodeStoreUpdate();\n                                            if (value.length === 5) {\n                                                schoolListStoreUpdate(value);\n                                            }\n                                        }\n                                    });\n                                }\n\n                                function schoolListReset() {\n                                    schoolList.set(\"options\", schoolListDefaulfOptions);\n                                    schoolList.reset();\n                                    userStore = null;\n                                }\n\n                                function schoolListStoreUpdate(zipcode) {\n                                    var schools,\n                                        schoolListOptions = [];\n                                    if (type === 'school') {\n                                        schools = getSchoolsByPostal(zipcode);\n                                    }\n                                    else if (type === 'district') {\n                                        schools = getDistrictsByPostal(zipcode);\n                                    }\n\n                                    if (schools.length) {\n                                        schools.forEach(function(school) {\n                                            var entry = {\n                                                value: school.id,\n                                                label: school.name\n                                            };\n                                            try {\n                                                schoolListOptions.push(entry);\n                                            } catch(e) {\n                                                // school already in store\n                                            }\n                                        });\n                                        schoolList.set(\"options\", schoolListOptions);\n                                        schoolList.reset();\n                                        schoolList.focus();\n                                        schoolList.toggleDropDown();\n                                    }\n                                }\n                            });\n                    }\n\n                    function schoolListChanged(ctx, type) {\n                        if ($('#' + mys.wizDlg.ctx + '-schools').parent().hasClass('is-visible')) {\n                            cSchool = null;\n                            mys.wizDlg.schoolId = dijit.byId(ctx + '-schoolList').value;\n                            if (type === 'school') {\n                                mys.wizDlg.school = getSchoolNameById(mys.wizDlg.schoolId);\n                            }\n                            else if (type === 'district') {\n                                mys.wizDlg.school = getDistrictNameById(mys.wizDlg.schoolId);\n                            }\n                            if (!cSchool && mys.wizDlg.schoolId) {\n                                unfetchFromStore(mys.wizDlg.schoolId);\n                                fetchFromStore(mys.wizDlg.schoolId).then(function(school) {\n                                    var timeout = 2000;\n                                    cSchool = school;\n                                    userStore = createEmptyStore();\n                                    if (ctx === 'teacherSignUpDlg') {\n                                        mys.wizDlg.titlesLoaded = false;\n                                        if (mys.wizDlg.next) {\n                                            clearTimeout(mys.wizDlg.next);\n                                            stopAppChanges();\n                                            timeout = 1000;\n                                        }\n                                        if (mys.dbs.titles) {\n                                            mys.dbs.titles.blockEvents = true;\n                                        }\n                                        mys.wizDlg.next = setTimeout(function() {\n                                            initAppChanges();\n                                        }, timeout);\n                                        groupStore = createEmptyStore();\n                                        SchoolAccount.getGroups(cSchool._id, {\n                                            el: $('#' + mys.wizDlg.ctx),\n                                            store: groupStore\n                                        });\n                                    }\n                                    if (type === 'district') {\n                                        DistrictAccount.getSchools(cSchool._id).then(function(schoolDocs) {\n                                            var schoolDoc = schoolDocs[0];\n\n                                            SchoolAccount.getUsers(schoolDoc._id, {\n                                                el: $('#' + mys.wizDlg.ctx),\n                                                store: userStore\n                                            });\n                                        });\n                                    }\n                                    else {\n                                        SchoolAccount.getUsers(cSchool._id, {\n                                            el: $('#' + mys.wizDlg.ctx),\n                                            store: userStore\n                                        });\n                                    }\n                                    fetchFromView({\n                                        view: 'mys/admin_codes',\n                                        el: $('#' + mys.wizDlg.ctx),\n                                        queryParams: {\n                                            startkey: [cSchool._id],\n                                            endkey: [cSchool._id, '\\u9999']\n                                        }\n                                    }).then(function(adminCodeDocs) {\n                                        mys.adminCodesMap = {};\n                                        adminCodeDocs.forEach(function(adminCodeDoc) {\n                                            mys.adminCodesMap[adminCodeDoc._id] = adminCodeDoc;\n                                        });\n                                    })\n                                });\n                            }\n                        }\n                    }\n\n                    showIosWarning = function(dlg) {\n                        registry.byId(dlg).show();\n                    };\n                    hideIosWarning = function(dlg) {\n                        registry.byId(dlg).hide();\n                    };\n                    $('#forgotPassword').on('click', function(e) {\n                        e.preventDefault();\n                        dijit.byId('forgotPasswdEmail').set('value', '', false);\n                        $('#forgotPasswdEmail').click();\n                        registry.byId('forgotDlg').show();\n                    });\n                    hideForgotDlg = function() {\n                        registry.byId('forgotDlg').hide();\n                    };\n                    showChangePasswordDlg = function() {\n                        registry.byId('changePasswordDlg').show();\n                    };\n                    captureVisibleFieldValues = function() {\n                        var ctx = mys.wizDlg.ctx,\n                            fieldData = mys.wizDlg.fieldData;\n\n                        mys.wizDlg.visibleFields.forEach(function(fieldId) {\n                            var field = registry.byId(ctx + '-' + fieldId);\n                            var value = field.get('value');\n                            if (typeof value === 'string') {\n                                value = value.trim();\n                            }\n                            fieldData[fieldId] = value;\n                            field.reset();\n                        });\n                    };\n                    signUpNext = function() {\n                        captureVisibleFieldValues();\n                        mys.wizDlg.state++;\n                        mys.wizDlg.cb();\n                    };\n                    signUpBack = function() {\n                        captureVisibleFieldValues();\n                        mys.wizDlg.state--;\n                        mys.wizDlg.cb();\n                    };\n                    signUpAdditionalTitlesYes = function() {\n                        if (mys.wizDlg.valid.indexOf('titles') !== -1) {\n                            mys.wizDlg.valid.splice(mys.wizDlg.valid.indexOf('titles'), 1);\n                        }\n                        signUpBack();\n                    };\n                    signUpGoTo = function(state) {\n                        captureVisibleFieldValues();\n                        mys.wizDlg.state = state;\n                        mys.wizDlg.cb();\n                    };\n                    signUpPrintClasses = function() {\n                        var win = window.open(),\n                            classes = $('.newClassTitles').get(0).outerHTML,\n                            styles = (function(styles) {\n                                var html = ''\n                                styles.each(function(i, style) {\n                                    html += style.outerHTML\n                                });\n                                return html;\n                            })($('link[rel=\"stylesheet\"]')),\n                            teacherInfo = {\n                                name: mys.wizDlg.fieldData.first + ' ' + mys.wizDlg.fieldData.last,\n                                id: mys.wizDlg.fieldData.email,\n                                codes: Object.keys(mys.wizDlg.codeTitles)\n\n                            },\n                            html = styles +\n                            '<h2>' + teacherInfo.name +\n                            ' (User ID: ' + teacherInfo.id + ')</h2>' +\n                            '<h3>Classes</h3>' +\n                            classes;\n                        win.document.open();\n                        win.document.write(html);\n                        win.document.close();\n                    };\n                    showSignUpStep = function(num) {\n                        $('#' + mys.wizDlg.ctx + '-' + num).addClass('is-visible');\n                    };\n                    hideSignUpStep = function(num) {\n                        if (num !== mys.wizDlg.ctx) {\n                            var els = (typeof num === 'number') ?\n                                    $('#' + mys.wizDlg.ctx + '-' + num) :\n                                    $('.signup-step');\n                            els.removeClass('is-visible');\n                        }\n                        else {\n                            $('#' + mys.wizDlg.ctx).hide();\n                        }\n                    };\n                    setSignUpTitle = function(content) {\n                        $('#' + mys.wizDlg.ctx + ' .dialogTitle').html(content);\n                    };\n                    setSignUpMessage = function(content, pos) {\n                        $('#' + mys.wizDlg.ctx + ' .dialogMessage').eq(pos).html(content).show();\n                    };\n                    hideSignUpMessage = function(pos) {\n                        $('#' + mys.wizDlg.ctx + ' .dialogMessage').eq(pos).hide();\n                    };\n                    hideSignUpBack = function() {\n                        $('#' + mys.wizDlg.ctx + '-back').hide();\n                    };\n                    hideSignUpNext = function() {\n                        $('#' + mys.wizDlg.ctx + '-next').hide();\n                    };\n                    showSignUpBack = function() {\n                        $('#' + mys.wizDlg.ctx + '-back').show();\n                    };\n                    showSignUpNext = function() {\n                        $('#' + mys.wizDlg.ctx + '-next').show();\n                    };\n                    showChangeLoginDlg = function() {\n                        blockEvents = true;\n                        dijit.byId(\"changeLoginFirstName\").set(\"value\", \"\", false);\n                        dijit.byId(\"changeLoginLastName\").set(\"value\", \"\", false);\n                        dijit.byId(\"changeLoginUserId\").set(\"value\", \"\", false);\n                        dijit.byId(\"changeLoginPassword\").set(\"value\", \"\", false);\n                        dijit.byId(\"changeLoginOKButton\").set(\"disabled\", true);\n                        blockEvents = false;\n                        registry.byId(\"changeLoginDlg\").show();\n                    };\n                    hideChangeLoginDlg = function() {\n                        registry.byId(\"changeLoginDlg\").hide();\n                    };\n                    changeLoginUserIdValidator = function(self, value, pswd, constraints, hirole) {\n                        var message = \"\",\n                                isValid = false,\n                                result = null;\n\n                        if (!blockEvents) {\n                            result = validateNewUserIdByRole(hirole, value);\n                            isValid = result.isValid;\n                            if (value === pswd) {\n                                message = \"The User ID must not be the same as the Password.\";\n                                isValid = false;\n                            }\n                            else {\n                                message = result.message;\n                            }\n                        }\n                        else {\n                            isValid = true;\n                        }\n\n                        if (message) {\n                            self.set(\"invalidMessage\", message);\n                        }\n                        return isValid;\n                    };\n                    changeLoginPasswordValidator = function(self, value, userId, constraints, hirole) {\n                        if (hirole === undefined) {\n                            throw new Error('passwordValidator: hirole argument is empty');\n                        }\n\n                        var message;\n                        if (!blockEvents) {\n                            var result = passwordValidation(value, {uId: userId, role: hirole});\n                            if (!result.isValid) {\n                                message = result.message;\n                            }\n                            else if (value === userId) {\n                                message = \"The Password must not be the same as the User ID.\";\n                            }\n\n                            if (message) {\n                                self.set(\"invalidMessage\", message);\n                            }\n                        }\n                        return !message;\n                    };\n                    dijit.byId(\"changeLoginFirstName\").validator = function(value, constraints) {\n                        var valid = true;\n                        if (blockEvents) {\n                            valid = true;\n                        }\n                        else {\n                            // defValid is default validator from dijit.form.ValidationTextBox\n                            var defValid = (new RegExp(\"^(?:\" + this.regExpGen(constraints) + \")\" + (this.required ? \"\" : \"?\") + \"$\")).test(value) &&\n                                    (!this.required || !this._isEmpty(value)) &&\n                                    (this._isEmpty(value) || this.parse(value, constraints) !== undefined);\n                            valid = defValid;\n                        }\n                        return valid;\n                    };\n                    dijit.byId(\"changeLoginLastName\").validator = function(value, constraints) {\n                        var valid = true;\n                        if (blockEvents) {\n                            valid = true;\n                        }\n                        else {\n                            // defValid is default validator from dijit.form.ValidationTextBox\n                            var defValid = (new RegExp(\"^(?:\" + this.regExpGen(constraints) + \")\" + (this.required ? \"\" : \"?\") + \"$\")).test(value) &&\n                                    (!this.required || !this._isEmpty(value)) &&\n                                    (this._isEmpty(value) || this.parse(value, constraints) !== undefined);\n                            valid = defValid;\n                        }\n                        return valid;\n                    };\n                    dijit.byId('changeLoginUserId').validator = function(value, constraints) {\n                        var pswd = dijit.byId('changeLoginPassword').value;\n\n                        return changeLoginUserIdValidator(this, value, pswd, constraints, User.getHirole(loggedInUser.userDoc.roles));\n                    };\n                    dijit.byId(\"changeLoginPassword\").validator = function(value, constraints) {\n                        var userId = dijit.byId(\"changeLoginUserId\").get(\"value\");\n                        return changeLoginPasswordValidator(this, value, userId, constraints, User.getHirole(loggedInUser.userDoc.roles));\n                    };\n                    verifySeatUsage = function() {\n                        var config = seatsVerificationDialogInfo(),\n                            yesNoDef;\n\n                        yesNoDef = mysYesNoPrompt(config.seatsVerificationText,\n                            config.seatsVerificationOptions);\n\n                        return yesNoDef.then(function(result) {\n                            return result === 'yes';\n                        });\n                    };\n\n                    if (mys.pathInfo.hashParams.customerid) {\n                        $('#loginUserID').val(mys.pathInfo.hashParams.customerid).focus();\n                    }\n\n                    if (mys.pathInfo.hashParams.etoken) {\n                        processEmailToken(mys.pathInfo.hashParams.etoken);\n                    }\n\n                    Profiler.mark('app.dojo-dialogs.end');\n                    $('#loader').hide();\n                    iosDevice = navigator.platform.match(/iPhone|iPod|iPad/);\n                    iosVersion = (navigator.userAgent.match(/\\b[0-9]+_[0-9]+(?:_[0-9]+)?\\b/) || [''])[0].replace(/_/g, '.');\n                    if (iosDevice && iosVersion < 7.1) {\n                        showIosWarning('ios-warning-message');\n                    }\n                    Profiler.mark('app.loginPage.end');\n                    gaCode();\n                }).then(function() {\n                    advents.capture('page_load_end', {\n                        page: window.location.pathname\n                    });\n                });\n            });\n\n            function checkForExpiredSesssion() {\n                var from_expired_session = localStorage.getItem('session-expired'),\n                    message = $('#sessionExpired');\n                if (from_expired_session) {\n                    localStorage.removeItem('session-expired');\n                    message.show();\n                }\n                return !!from_expired_session;\n            }\n        });\n    </script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"dojo-1.10.1/dgrid/css/extensions/ColumnResizer.css\"></head>\n\n<body style=\"background: linear-gradient(rgb(233, 233, 233) 0%, rgb(255, 255, 255) 100%) no-repeat; visibility: visible;\" class=\"claro mblBackground\">\n    <div id=\"loader\">\n        <div id=\"loaderInner\">Loading...</div>\n        <div align=\"center\">\n            <img src=\"dojo-1.10.1/dijit/themes/claro/images/loadingAnimation.gif\">\n        </div>\n    </div>\n    <div id=\"progressContainer\">\n        <div data-dojo-type=\"dojox.mobile.ProgressIndicator\" data-dojo-id=\"progressIndicator\" data-dojo-props=\"removeOnStop:false\" class=\"mblProgressIndicator mblProgressIndicatorCenter\" id=\"dojox_mobile_ProgressIndicator_0\" widgetid=\"dojox_mobile_ProgressIndicator_0\" style=\"width: 40px; height: 40px;\"><div class=\"mblProgContainer\" style=\"transform: scale(1); transform-origin: 0px 0px 0px; width: 40px; height: 40px;\"><div><div class=\"mblProg mblProg0\"></div><div class=\"mblProg mblProg1\"></div><div class=\"mblProg mblProg2\"></div><div class=\"mblProg mblProg3\"></div><div class=\"mblProg mblProg4\"></div><div class=\"mblProg mblProg5\"></div><div class=\"mblProg mblProg6\"></div><div class=\"mblProg mblProg7\"></div><div class=\"mblProg mblProg8\"></div><div class=\"mblProg mblProg9\"></div><div class=\"mblProg mblProg10\"></div><div class=\"mblProg mblProg11\"></div></div></div></div>\n    </div>\n    \n    <div id=\"dojox_widget_Standby_0\" widgetid=\"dojox_widget_Standby_0\"><div style=\"display: none; opacity: 0; z-index: 9999; position: absolute; cursor: wait; background-color: rgb(192, 192, 192);\" dojoattachpoint=\"_underlayNode\"></div><img src=\"dojo-1.10.1/dojox/widget/Standby/images/loading.gif\" style=\"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px; left: 0px; cursor:wait;\" dojoattachpoint=\"_imageNode\" alt=\"Please Wait...\"><div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px;\" dojoattachpoint=\"_textNode\">Please wait...</div></div>\n    <!-- Login Page -->\n    <div id=\"loginView\" data-dojo-type=\"dojox.mobile.View\" style=\"visibility: inherit; z-index: 2;\" class=\"mblView\" widgetid=\"loginView\">\n        <div data-dojo-type=\"dojox.mobile.Heading\" class=\"mblHeading unselectable mblHeadingCenterTitle\" id=\"dojox_mobile_Heading_0\" widgetid=\"dojox_mobile_Heading_0\">\n            <!-- <span id=\"helpBtn\" data-dojo-type=\"dojox.mobile.ToolBarButton\" data-dojo-props='label:\"Help\", onClick:showHelpOpener, icon:\"dojo-1.10.1/dojox/mobile/themes/custom/images/tab-icon-23w.png\"' style=\"float:right;\"></span> -->\n            <a id=\"resourceLink\" href=\"https://www.mentoringminds.com/total-motivation-resources\" target=\"_blank\">\n                <span id=\"resourceBtn\" data-dojo-type=\"dojox.mobile.ToolBarButton\" data-dojo-props=\"label:&quot;Resources&quot;, icon:&quot;dojo-1.10.1/dojox/mobile/themes/custom/images/tab-icon-23w.png&quot;\" style=\"float: right;\" role=\"button\" class=\"mblToolBarButton mblToolBarButtonHasIcon\" tabindex=\"0\" widgetid=\"resourceBtn\"><span class=\"mblToolBarButtonBody mblToolBarButtonLabeledIcon mblColorDefault\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" role=\"presentation\" class=\"mblToolBarButtonText\"><tbody><tr><td class=\"mblToolBarButtonIcon\"><img alt=\"\" src=\"dojo-1.10.1/dojox/mobile/themes/custom/images/tab-icon-23w.png\" class=\"mblImageIcon\"></td><td class=\"mblToolBarButtonLabel\">Resources</td></tr></tbody></table></span></span>\n            </a>\n        <span class=\"mblHeadingSpanTitle\"></span><div class=\"mblHeadingDivTitle\" role=\"heading\" aria-level=\"1\"></div></div>\n        <div id=\"pubLinkDiv\" data-dojo-type=\"dojox.mobile.Heading\" style=\"background: url(&quot;images/mm_border_top.png&quot;) center top repeat-x transparent; border: 0px; height: 65px;\" class=\"mblHeading unselectable mblHeadingCenterTitle\" widgetid=\"pubLinkDiv\">\n        <span class=\"mblHeadingSpanTitle\"></span><div class=\"mblHeadingDivTitle\" role=\"heading\" aria-level=\"1\"></div></div>\n        <div id=\"sessionExpired\" style=\"display:none;\">\n            <p>Your session has expired. Please log in again.</p>\n        </div>\n        <div id=\"loginRect\" class=\"formRect\">\n            <div class=\"motivationOnline\"></div>\n            <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dialogInput\" id=\"widget_loginUserID\" role=\"presentation\" widgetid=\"loginUserID\"><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"loginUserID\" type=\"text\" id=\"loginUserID\" placeholder=\"User ID\" tabindex=\"100\" required=\"true\" autocapitalize=\"off\" autofocus=\"autofocus\" title=\"User ID\" value=\"\"></div></div>\n            <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dialogInput\" id=\"widget_userPasswd\" role=\"presentation\" widgetid=\"userPasswd\"><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"userPasswd\" type=\"password\" id=\"userPasswd\" tabindex=\"101\" required=\"true\" title=\"Password\" placeholder=\"Password\" value=\"\"></div></div>\n            <button id=\"sign-in\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"102\" widgetid=\"sign-in\" style=\"user-select: none;\">Sign In</button>\n            <div id=\"bottom-links\">\n                <a id=\"forgotPassword\">Forgot User ID or Password?</a>\n                <span id=\"pwrbymysatori\">Powered by MySatori</span>\n            </div>\n        </div>\n        \n        \n        \n        \n        \n        \n        \n    </div>\n\n    \n\n    <!-- Footer -->\n    <img src=\"images/mm_squares.png\" class=\"squares\">\n    <div class=\"apple\"></div>\n    <div id=\"privacyPledge\">\n        <a href=\"http://studentprivacypledge.org/\" id=\"privacyPledgeLink\" target=\"_blank\"></a>\n    </div>\n<!--     <div id=\"renewal\" style=\"display:none;\">\n        <a href=\"https://www.mentoringminds.com/request-a-quote/\" id=\"renewal_link\" target=\"_blank\"></a>\n    </div> -->\n    <div id=\"bottomBar\" class=\"borderBarBottom\"></div>\n\n    \n\n\n    <div class=\"hidden\">\n        <div id=\"touchTesterDlg\" title=\"Touch Test\">\n           <!-- touch tester for teachers -->\n            <h2>Touch Device Test</h2>\n            <table>\n                <tbody><tr>\n                    <td>Click/Touch:</td>\n                    <td>\n                        <div id=\"touchTestArea\">\n                            <button id=\"touchTestInit\">Click Here First</button>\n                            <button id=\"touchTestFinish\">Click Here Second</button>\n                        </div>\n                    </td>\n                    <td id=\"touchTestAreaResult\"></td>\n                </tr>\n            </tbody></table>\n            <div style=\"margin-top: 35px; font-size: 0.9em;\">\n                This test is here for Instructor and Administrator accounts to detect a setting that may interfere with the use of the system. This setting is often unnecessarily modified when interactive software is installed. You will be provided with instructions for how to change the setting if the test fails.\n            </div>\n        </div>\n    </div>\n    <div id=\"helpOpener\" data-dojo-type=\"dojox.mobile.Tooltip\" onclick=\"hideHelpOpener()\" style=\"text-align: left;\" class=\"mblTooltip mblTooltipHidden\" widgetid=\"helpOpener\"><div class=\"mblTooltipAnchor\"><div class=\"mblTooltipArrow\"></div><div class=\"mblTooltipInnerArrow\"></div></div>\n        <a id=\"linktoHelpPopup\" class=\"menuItem\" href=\"#helpPopup\" onblur=\"hideHelpOpener()\" onclick=\"showHelp('login-wizard')\">Quick Tips</a>\n        <a id=\"linktoLiveChat\" class=\"menuItem\" href=\"#liveChat\">Live Chat</a>\n        <a id=\"linkToSupport\" class=\"menuItem\" href=\"#support\">Email Support</a>\n        <a id=\"linkToContactUs\" class=\"menuItem\" href=\"#contactUs\">Contact Us</a>\n        <a id=\"linkToBrowserTest\" class=\"menuItem\" href=\"#browserTest\">Browser Test</a>\n        <a id=\"linkToTermsHelp\" class=\"menuItem\" href=\"#\" onclick=\"showTermsAndConditionsHelp()\">Terms and Conditions</a>\n    </div>\n    \n    \n   \n    \n    <script type=\"text/javascript\">\n        function gotoTermsAndConditions() {\n            var ctx = mys.wizDlg.ctx;\n            hideSignUpStep(ctx);\n            showTermsAndConditions();\n        }\n        function showTermsAndConditions() {\n            var pInfo = mys.getPubInfo();\n            /*if(pInfo.shortName != \"MM\") {\n                dlgOpen('genericTermsDlg');\n            } else {\n                dlgOpen('termsDlg');\n            }*/\n            for(var terms in pInfo.termsAndConditions) {\n                if (pInfo.termsAndConditions[terms].status && pInfo.termsAndConditions[terms].status == 'active') {\n                    adminUnseenTerms = terms;\n                    $('#termsDlgContainer').html(pInfo.termsAndConditions[terms]['txt']);\n                    dlgOpen('termsDlg');\n                }\n            }\n        }\n\n        function createNewTeacher() {\n            var pInfo = mys.getPubInfo(),\n                fieldData = mys.wizDlg.fieldData,\n                ctx = mys.wizDlg.ctx,\n                opts = {};\n            opts.user = User.create('teacher_admin', {\n                fk_school: mys.wizDlg.schoolId,\n                first_name: fieldData.firstName,\n                last_name: fieldData.lastName,\n                roles: [mys.wizDlg.role],\n                user_id: fieldData.userId,\n                user_password: fieldData.password,\n                email: fieldData.userId,\n                contact_roles: [mys.wizDlg.role],\n                acceptedTermsAndCon: {},\n                jobTitle: fieldData.jobTitle,\n                subscribe_newsletter: $('#' + ctx + '-subscribe').is(':checked')\n            });\n            if(adminUnseenTerms) {\n                opts.user.acceptedTermsAndCon[adminUnseenTerms] = true;\n            }\n            opts.hasUI = false;\n            opts.schoolId = mys.wizDlg.schoolId;\n            opts.referrer = 'registration';\n            saveNewUser(opts).then(function(userDoc) {\n                var regCode = mys.wizDlg.fieldData.registrationCode;\n                loggedInUser = {\n                    userDoc: userDoc\n                };\n                loggedInUserUUID = userDoc._id;\n                mys.dbs.codes.db.get(regCode, function(err, codeDoc) {\n                    codeDoc.status = 'activated';\n                    codeDoc.used = codeDoc.used ? codeDoc.used + 1 : 1;\n                    codeDoc.user_id = loggedInUserUUID;\n                    codeDoc.activated = Date.now();\n                    mys.adminCodesMap[codeDoc._id] = codeDoc;\n                    pushToDB(codeDoc, {\n                        db: mys.dbs.codes.db,\n                        onFinalBatchSuccess: function() {\n                            if (pInfo.shortName === 'MM') {\n                                sendTeacherRegistrationEmail(opts.user);\n                            }\n                            dlgClose('termsDlg', true);\n                            signUpNext();\n                        }\n                    });\n                });\n            });\n        }\n\n        function createNewAdmin() {\n            var pInfo = mys.getPubInfo(),\n                ctx = mys.wizDlg.ctx,\n                register = mys.wizDlg.register,\n                fieldData = mys.wizDlg.fieldData,\n                opts = {},\n                codeDoc = mys.wizDlg.data || {},\n                schoolId;\n            pageStandby.show();\n\n            if (register === 'school') {\n                schoolId = mys.wizDlg.schoolId;\n            }\n            else if (register === 'district') {\n                schoolId = cSchool.schools[0];\n                cSchool._id = schoolId;\n            }\n            if (codeDoc && codeDoc._id) {\n                opts.user = User.create('teacher_admin', {\n                    fk_school: schoolId,\n                    first_name: fieldData.first,\n                    last_name: fieldData.last,\n                    roles: [mys.wizDlg.role],\n                    user_id: fieldData.userId,\n                    user_password: fieldData.password,\n                    email: fieldData.userId,\n                    contact_roles: [mys.wizDlg.role],\n                    acceptedTermsAndCon: {},\n                    jobTitle: fieldData.jobTitle,\n                    subscribe_newsletter: $('#' + ctx + '-subscribe').is(':checked')\n                });\n                if(adminUnseenTerms) {\n                    opts.user.acceptedTermsAndCon[adminUnseenTerms] = true;\n                }\n                opts.hasUI = false;\n                opts.schoolId = schoolId;\n                opts.referrer = 'registration';\n                saveNewUser(opts).then(function(userDoc) {\n                    loggedInUser = {\n                        userDoc: userDoc\n                    };\n                    codeDoc.user_id = opts.user.user_id;\n                    codeDoc.status = 'activated';\n                    codeDoc.used = codeDoc.used ? codeDoc.used + 1: 1;\n                    codeDoc.activated = Date.now();\n                    pushToDB([codeDoc], {\n                        onFinalBatchSuccess: function() {\n                            if (pInfo.shortName === 'MM') {\n                                sendAdminRegistrationEmail(opts.user);\n                            }\n                            pageStandby.hide();\n                            dlgClose('termsDlg', true);\n                            signUpNext();\n                        }\n                    });\n                });\n            }\n            else {\n                $.post(getEmailGateway(), $.extend({\n                    emailType: 'newAdminNoRegCode',\n                    first_name: fieldData.first,\n                    last_name: fieldData.last,\n                    role: mys.wizDlg.role,\n                    user_password: fieldData.password,\n                    jobTitle: fieldData.jobTitle,\n                    subscribe_newsletter: $('#' + ctx + '-subscribe').is(':checked'),\n                    email: fieldData.email,\n                    school: cSchool.name,\n                    zipCode: cSchool.fk_zip,\n                    emailKey: mys.emailKey,\n                    emailTo: 'info@mentoringminds.com',\n                    emailBody: '',\n                    dbName: mys.pathInfo.dbName,\n                    host: window.location.host\n                }, mys.getPubInfo()));\n                pageStandby.hide();\n                dlgClose('termsDlg', true);\n                signUpNext();\n            }\n        }\n\n        function createNewSchool() {\n            var createdSchoolDef = new dojo.Deferred(),\n                fieldData = mys.wizDlg.fieldData,\n                isHomeVersion = mys.wizDlg.subscriptionCodeDoc.package.isHomeVersion,\n                pubInfo = mys.getPubInfo(),\n                fName = 'createNewSchool';\n            var schoolOpts = {\n                name: fieldData.schoolList,\n                zipCode: fieldData.zipCode,\n                agileId: null,\n                agileParentId: null,\n                nsId: null,\n                nsCouchId: null,\n                nsParentId: null,\n                districtId: null,\n                policyBundle: null,\n                isSandbox: false,\n                theme: pubInfo.shortName,\n                fromSubscriptionCode: true\n            };\n            if (isHomeVersion) {\n                schoolOpts.name = fieldData.firstName + ' ' + fieldData.lastName;\n                schoolOpts.zipCode = '00000';\n            }\n            pageStandby.show();\n            SchoolAccount.create(schoolOpts).then(function(schoolDoc) {\n                var userOpts = {};\n                cSchool = schoolDoc;\n                if (isHomeVersion) {\n                    $('#newSchoolCongratsMsg').hide();\n                }\n                userOpts.user = User.create('teacher_admin', {\n                    fk_school: cSchool._id,\n                    first_name: fieldData.firstName,\n                    last_name: fieldData.lastName,\n                    roles: [mys.wizDlg.role, 'Instructor'],\n                    user_id: isHomeVersion ? fieldData.email : fieldData.userId,\n                    user_password: isHomeVersion ? fieldData.teacherPw : fieldData.password,\n                    email: isHomeVersion ? fieldData.email : fieldData.userId,\n                    contact_roles: [mys.wizDlg.role, 'Instructor'],\n                    acceptedTermsAndCon: {},\n                    jobTitle: fieldData.jobTitle,\n                    subscribe_newsletter: false\n                });\n                if(adminUnseenTerms) {\n                    userOpts.user.acceptedTermsAndCon[adminUnseenTerms] = true;\n                }\n                if (isHomeVersion) {\n                    userOpts.user.user_id = fieldData\n                }\n                userOpts.hasUI = false;\n                userOpts.schoolId = cSchool._id;\n                userOpts.referrer = 'registration';\n                saveNewUser(userOpts).then(function(userDoc) {\n                    loggedInUser = {\n                        userDoc: userDoc\n                    };\n                    addSeats(cSchool._id, fieldData.subscriptionCode, userDoc._id).then(function() {\n                        getServerDate().then(function(serverDate) {\n                            var serverTs = serverDate.getTime();\n                            mys.createCsAccountJobDoc = {\n                                _id: PouchDB.utils.uuid(),\n                                type: 'Job',\n                                createdTs: serverTs,\n                                jobStatus: 'Not Started',\n                                jobType: 'createCsAccount',\n                                jobInput: {\n                                    firstName: 'CS',\n                                    lastName: 'Account',\n                                    username: fieldData.subscriptionCode,\n                                    type: 'school',\n                                    schoolId: cSchool._id,\n                                    getIfExists: true\n                                },\n                                jobIsCacheable: false,\n                                jobForSchool: cSchool._id,\n                                jobForUser: userDoc._id\n                            };\n                            pushToDB([mys.createCsAccountJobDoc], {\n                                onFinalBatchSuccess: function(jobDoc) {\n                                    startListeningDoc(jobDoc[0]._id, 2000, function(change) {\n                                        console.log(change);\n                                        if (change.doc.jobStatus !== 'Not Started' && change.doc.jobStatus !== 'In Progress') {\n                                            stopListeningDoc();\n                                            if (change.doc.jobStatus === 'Completed') {\n                                                if (isHomeVersion) {\n                                                    setupHomeVersionClass({\n                                                        instructorId: userDoc._id\n                                                    }).then(function() {\n                                                        pageStandby.hide();\n                                                        dlgClose('termsDlg', true);\n                                                        signUpNext();\n                                                        createdSchoolDef.resolve();\n                                                    });\n                                                }\n                                                else {\n                                                    pageStandby.hide();\n                                                    dlgClose('termsDlg', true);\n                                                    signUpNext();\n                                                    createdSchoolDef.resolve();\n                                                }\n                                            }\n                                            else {\n                                                createdSchoolDef.reject(mys.formatError(fName,\n                                                        'Error in createCsAccountJobDoc'));\n                                            }\n                                        }\n                                    });\n                                },\n                                onError: function (err) {\n                                    createdSchoolDef.reject(mys.formatError(fName,\n                                            'Error pushing createCsAccountJobDoc', err));\n                                }\n                            });\n                        }, function(err) {\n                            createdSchoolDef.reject(mys.formatError(fName,\n                                    'Error in getServerDate', err));\n                        });\n                    });\n                });\n            }, function(err) {\n                createdSchoolDef.reject()\n            });\n            return createdSchoolDef;\n        }\n\n        function setupHomeVersionClass(config) {\n            var setupClassDef = new dojo.Deferred(),\n                fieldData = mys.wizDlg.fieldData,\n                userOpts = {},\n                titleIds = [],\n                goalsetIds = [];\n\n            userOpts.user = User.create('student', {\n                fk_school: cSchool._id,\n                grade: '1',\n                first_name: fieldData.firstName,\n                last_name: fieldData.lastName,\n                middle_name: '',\n                roles: ['Student'],\n                user_id: fieldData.userId,\n                user_password: fieldData.password\n            });\n            userOpts.hasUI = false;\n            userOpts.schoolId = cSchool._id;\n            userOpts.groups = [];\n            saveNewUser(userOpts).then(function(userDoc) {\n                var classOpts;\n                loggedInUser = {\n                    userDoc: userDoc\n                };\n                for (var sku in mys.wizDlg.subscriptionCodeDoc.package.titles) {\n                    titleIds.push(mys.dbs.skuToMetaTitleIdMap[sku].titleId);\n                }\n                fetchFromStore(titleIds).then(function(titleDocs) {\n                    var title = titleDocs[0];\n                    titleDocs.forEach(function(title) {\n                        goalsetIds.push(title.goalsets[0]);\n                    });\n                    classOpts = {\n                        schoolId: cSchool._id,\n                        instructorId: config.instructorId,\n                        name: fieldData.firstName + ' ' + fieldData.lastName,\n                        users: [userDoc._id],\n                        goalsets: goalsetIds,\n                        is_aag_enabled: '1'\n                    };\n                    SchoolGroup.create(classOpts).then(function(groupDoc) {\n                        handoutHomeVersionAssignments(groupDoc, title.activities, [userDoc]).then(function() {\n                            setupClassDef.resolve();\n                        });\n                    });\n                });\n            });\n            return setupClassDef;\n        }\n\n        function handoutHomeVersionAssignments(groupDoc, activities, userDocs) {\n            var handoutAssignmentsDef = new dojo.Deferred(),\n                docsToSave = [],\n                now = (new Date()).toISOString();\n\n            activityStore = createEmptyStore();\n\n            if (goalsetStore) {\n                fetchFromStore([groupDoc.groupAssignmentsIndex]).then(function(results) {\n                    var groupAssmtIndex = results[0];\n\n                    fetchFromStore(activities, {\n                        store: activityStore\n                    }).then(function(activityDocs) {\n                        var usersMap = {},\n                            userAssignmentsMap = {},\n                            userAssignmentsIndexMap = {},\n                            userAssignmentsIndexDocs = [];\n\n                        activities.forEach(function(activityId) {\n                            var activity = activityStore.get(activityId),\n                                activityName = formatActivityName(activity, true, 'newAssmt'),\n                                groupAssmt;\n\n                            if (activityName.indexOf('Demo') === -1 && activityName.indexOf('[Open Ended]') === -1) {\n                                groupAssmt = {\n                                    _id: PouchDB.newUUID(500),\n                                    name: activityName + ' @ ' + now,\n                                    short_id: '',\n                                    start_date: now,\n                                    due_date: '',\n                                    due_time_grace: '0',\n                                    estimated_time: '0',\n                                    start_assmnt_only_if: 'NoAdditionalConstraints',\n                                    status: mys.assignment.status.HANDED_OUT,\n                                    created_timestamp: now,\n                                    fk_group: groupDoc._id,\n                                    fk_instructor: groupDoc.fk_pgroup_leader,\n                                    fk_creator: groupDoc.fk_pgroup_leader,\n                                    fk_activity: activity._id,\n                                    assignment_type: '2',\n                                    type: 'assignment',\n                                    prefs: {\n                                        'Time Limit (seconds)': {\n                                            value: 0,\n                                            type: 'Integer'\n                                        },\n                                        'Randomize Item Order': {\n                                            value: 0,\n                                            type: 'Boolean'\n                                        },\n                                        'Each Student Gets Different Ordering': {\n                                            value: 0,\n                                            type: 'Boolean'\n                                        },\n                                        'Randomize Item Variations': {\n                                            value: 1,\n                                            'type': 'Boolean'\n                                        },\n                                        'Each Student May Get a Different Variation': {\n                                            value: 1,\n                                            type: 'Boolean'\n                                        },\n                                        'Allow Pausing': {\n                                            value: 1,\n                                            type: 'Boolean'\n                                        }\n                                    },\n                                    fk_goalset: activity.fk_goalset,\n                                    fk_activity_pref_set: activity.fk_activity_pref_set,\n                                    users: groupDoc.users,\n                                    userAssignments: {},\n                                    maxPasses: 1,\n                                    ntype: 'groupAssignment',\n                                    isPaper: false\n                                };\n                                if (groupDoc.is_aag_enabled === '1') {\n                                    groupAssmt.maxPasses = UNLIMITED_ASSMT_PASSES;\n                                }\n                                groupAssmt.users.forEach(function(userId) {\n                                    var userAssmtDoc = {\n                                        _id: PouchDB.newUUID(500),\n                                        name: groupAssmt.name,\n                                        short_id: '',\n                                        start_date: groupAssmt.start_date,\n                                        due_date: groupAssmt.due_date ? groupAssmt.due_date : '',\n                                        due_time_grace: groupAssmt.due_time_grace ? groupAssmt.due_time_grace : '0',\n                                        estimated_time: groupAssmt.estimated_time ? groupAssmt.estimated_time : '0',\n                                        start_assmnt_only_if: groupAssmt.start_assmnt_only_if ?\n                                            groupAssmt.start_assmnt_only_if : 'NoAdditionalConstraints',\n                                        status: mys.assignment.status.NOT_STARTED,\n                                        created_timestamp: groupAssmt.created_timestamp,\n                                        fk_group: groupAssmt.fk_group,\n                                        fk_instructor: groupAssmt.fk_instructor,\n                                        fk_creator: groupAssmt.creator ? groupAssmt.creator : groupAssmt.fk_instructor,\n                                        fk_activity: groupAssmt.fk_activity,\n                                        type: 'assignment_detail',\n                                        prefs: groupAssmt.prefs ? groupAssmt.prefs : {\n                                                'Time Limit (seconds)': {\n                                                    value: 0,\n                                                    type: 'Integer'\n                                                },\n                                                'Randomize Item Order': {\n                                                    value: 0,\n                                                    type: 'Boolean'\n                                                },\n                                                'Each Student Gets Different Ordering': {\n                                                    value: 0,\n                                                    type: 'Boolean'\n                                                },\n                                                'Randomize Item Variations': {\n                                                    value: 1,\n                                                    type: 'Boolean'\n                                                },\n                                                'Each Student May Get a Different Variation': {\n                                                    value: 1,\n                                                    type: 'Boolean'\n                                                },\n                                                'Allow Pausing': {\n                                                    value: 1,\n                                                    type: 'Boolean'\n                                                }\n                                            },\n                                        fk_goalset: groupAssmt.fk_goalset,\n                                        fk_activity_pref_set: groupAssmt.fk_activity_pref_set,\n                                        time_started: '',\n                                        time_spent: '0',\n                                        percent_complete: '0',\n                                        velocity: '0',\n                                        average_grade: '0',\n                                        turnedin_ts: null,\n                                        fk_assigned_to: userId,\n                                        fk_last_paused_assignment_module: '',\n                                        last_paused_ts: '',\n                                        parent: groupAssmt._id,\n                                        ntype: 'userAssignment',\n                                        modules: [],\n                                        ungradedUMPs: [],\n                                        isPaper: false,\n                                        archived: false\n                                    };\n\n                                    groupAssmt.userAssignments[userId] = [userAssmtDoc._id];\n                                    if (!userAssignmentsMap[userId]) {\n                                        userAssignmentsMap[userId] = [];\n                                    }\n                                    userAssignmentsMap[userId].push(userAssmtDoc._id);\n                                    docsToSave.push(userAssmtDoc);\n                                    usersMap[userId] = true;\n                                });\n\n                                groupAssmtIndex.groupAssignments.push(groupAssmt._id);\n                                docsToSave.push(groupAssmt);\n                            }\n                       });\n\n                        docsToSave.push(groupAssmtIndex);\n\n                        /*\n                         * Update all userAssignmentsIndex with new assignments\n                         */\n                        userDocs.forEach(function(userDoc) {\n                            userAssignmentsIndexMap[userDoc.userAssignmentsIndex] = userDoc._id;\n                            userAssignmentsIndexDocs.push(userDoc.userAssignmentsIndex);\n                        });\n\n                        unfetchFromStore(userAssignmentsIndexDocs);\n                        fetchFromStore(userAssignmentsIndexDocs).then(function(docs) {\n                            docs.forEach(function(userAssmtIndexDoc) {\n                                var userId = userAssignmentsIndexMap[userAssmtIndexDoc._id];\n                                if (Array.isArray(userAssignmentsMap[userId])) {\n                                    userAssignmentsMap[userId].forEach(function(userAssmtId) {\n                                        userAssmtIndexDoc.userAssignments.push(userAssmtId);\n                                    });\n                                    docsToSave.push(userAssmtIndexDoc);\n                                }\n                            });\n                            pushToDB(docsToSave, {\n                                batchSize: 1000,\n                                onFinalBatchSuccess: function() {\n                                    handoutAssignmentsDef.resolve();\n                                },\n                                onError: function(err) {\n                                    handoutAssignmentsDef.reject(err);\n                                }\n                            });\n                        }, function(err) {\n                            handoutAssignmentsDef.reject(err);\n                        });\n                    }, function(err) {\n                        handoutAssignmentsDef.reject(err);\n                    });\n                }, function(err) {\n                    handoutAssignmentsDef.reject(err);\n                });\n            }\n            else {\n                handoutAssignmentsDef.resolve();\n            }\n\n            return handoutAssignmentsDef;\n        }\n\n        function termsAccepted() {\n            if (mys.wizDlg.ctx === 'teacherSignUpDlg') {\n                createNewTeacher();\n            }\n            else if (mys.wizDlg.ctx === 'newSchoolDlg') {\n                createNewSchool();\n            }\n            else {\n                createNewAdmin();\n            }\n        }\n    </script>\n\n    <div id=\"noSeatsDlg\" title=\"No seats available\"></div>\n    <div id=\"web-app-loading-progress-monitor\" class=\"tiny-green\"><div style=\"width: 0px; overflow: hidden;\">0.2762237762237762%&nbsp;</div></div>\n\n    <style type=\"text/css\">\n        body {\n            text-align: center;\n        }\n        html,\n        body {\n            padding: 0;\n            border: 0;\n            margin: 0;\n            font-family: Verdana, Geneva, sans-serif;\n        }\n        #instructions {\n            margin-left: auto;\n            margin-right: auto;\n            margin-bottom: 1.5em;\n            font-style: italic;\n            color: #492F91;\n            text-align: left;\n            width: 50%;\n        }\n        button {\n            padding: 5px 10px;\n        }\n    </style>\n    <style>\n        .no-close .ui-dialog-titlebar-close {\n            display: none;\n        }\n    </style>\n\n\n\n<div class=\"dijitToasterClip\" dojoattachpoint=\"clipNode\" id=\"toasterMsg\" widgetid=\"toasterMsg\" style=\"display: none;\"><div class=\"dijitToasterContainer\" dojoattachpoint=\"containerNode\" dojoattachevent=\"onclick:onSelect\" style=\"opacity: 1;\"><div class=\"dijitToasterContent\" dojoattachpoint=\"contentNode\"></div></div></div><div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"helpDlg_title\" id=\"helpDlg\" widgetid=\"helpDlg\" style=\"display: none; position: absolute;\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"helpDlg_title\" role=\"heading\" level=\"1\">Quick Tips</span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"Cancel\" role=\"button\" tabindex=\"-1\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"Cancel\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\">\n        <div id=\"helpDlgContainer\" data-dojo-id=\"helpDlgContainer\" data-dojo-type=\"dijit.layout.BorderContainer\" class=\"dijitBorderContainer dijitContainer\" widgetid=\"helpDlgContainer\">\n            <div id=\"helpDlgMessage\" data-dojo-id=\"helpDlgMessage\" data-dojo-props=\"region: &quot;top&quot;\" data-dojo-type=\"dijit.layout.ContentPane\" class=\"dijitContentPane dijitBorderContainer-child dijitBorderContainer-dijitContentPane dijitBorderContainerPane\" widgetid=\"helpDlgMessage\">\n            </div><div class=\"dijitGutter dijitGutterH\" role=\"presentation\" id=\"helpDlgMessage_splitter\" widgetid=\"helpDlgMessage_splitter\"></div>\n            <div id=\"helpDlgContents\" data-dojo-id=\"helpDlgContents\" data-dojo-props=\"region: &quot;center&quot;\" data-dojo-type=\"dijit.layout.ContentPane\" class=\"dijitContentPane dijitBorderContainer-child dijitBorderContainer-dijitContentPane dijitBorderContainerPane\" widgetid=\"helpDlgContents\">\n            </div>\n        </div>\n    </div>\n\t\n</div><div id=\"studentSignUpDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration formRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" data-dojo-props=\"top:&quot;0px&quot;, modal: true\" style=\"display: none;\" role=\"dialog\" tabindex=\"0\" widgetid=\"studentSignUpDlg\"><div class=\"mblSimpleDialogContainer\">\n            <div class=\"mysCloseButton\" onclick=\"dlgClose('studentSignUpDlg')\"></div>\n            <div class=\"motivationOnline\"></div>\n            <div class=\"dialogTitle\"></div>\n            <div class=\"dialogMessage\"></div>\n            <div id=\"studentSignUpDlg-0\" class=\"signup-step\">\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_studentSignUpDlg-classCode\" role=\"presentation\" widgetid=\"studentSignUpDlg-classCode\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"studentSignUpDlg-classCode\" type=\"text\" id=\"studentSignUpDlg-classCode\" tabindex=\"200\" title=\"Sign-Up Code\" placeholder=\"Sign-Up Code\" value=\"\" aria-invalid=\"false\"></div></div>\n            </div>\n            <div id=\"studentSignUpDlg-1\" class=\"signup-step\">\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_studentSignUpDlg-first\" role=\"presentation\" widgetid=\"studentSignUpDlg-first\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"studentSignUpDlg-first\" type=\"text\" id=\"studentSignUpDlg-first\" tabindex=\"251\" title=\"First Name\" placeholder=\"First Name\" value=\"\" aria-invalid=\"false\"></div></div>\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_studentSignUpDlg-middle\" role=\"presentation\" widgetid=\"studentSignUpDlg-middle\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"studentSignUpDlg-middle\" type=\"text\" id=\"studentSignUpDlg-middle\" tabindex=\"252\" title=\"Middle Name (Optional)\" placeholder=\"Middle Name (Optional)\" value=\"\" aria-invalid=\"false\"></div></div>\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_studentSignUpDlg-last\" role=\"presentation\" widgetid=\"studentSignUpDlg-last\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"studentSignUpDlg-last\" type=\"text\" id=\"studentSignUpDlg-last\" tabindex=\"253\" title=\"Last Name\" placeholder=\"Last Name\" value=\"\" aria-invalid=\"false\"></div></div>\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_studentSignUpDlg-uid\" role=\"presentation\" widgetid=\"studentSignUpDlg-uid\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"studentSignUpDlg-uid\" type=\"text\" id=\"studentSignUpDlg-uid\" autocapitalize=\"off\" tabindex=\"254\" title=\"Create a User ID\" placeholder=\"Create a User ID\" value=\"\" aria-invalid=\"false\"></div></div>\n                <table class=\"dijit dijitReset dijitInline dijitLeft dijitSelect dijitValidationTextBox dijitDownArrowButton\" data-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing=\"0\" cellpadding=\"0\" role=\"listbox\" aria-haspopup=\"true\" id=\"studentSignUpDlg-grade\" tabindex=\"255\" widgetid=\"studentSignUpDlg-grade\" aria-expanded=\"false\" aria-invalid=\"false\" style=\"user-select: none;\"><tbody role=\"presentation\"><tr role=\"presentation\"><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"><div class=\"dijitReset dijitInputField dijitButtonText\" data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"><span role=\"option\" class=\"dijitReset dijitInline dijitSelectLabel dijitValidationTextBoxLabel \">Grade Level</span></div><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><input type=\"hidden\" name=\"studentSignUpDlg-grade\" data-dojo-attach-point=\"valueNode\" value=\"\" aria-hidden=\"true\"></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\" data-dojo-attach-point=\"titleNode\" role=\"presentation\"><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></td></tr></tbody></table>\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_studentSignUpDlg-password\" role=\"presentation\" widgetid=\"studentSignUpDlg-password\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"studentSignUpDlg-password\" type=\"password\" id=\"studentSignUpDlg-password\" tabindex=\"256\" title=\"Create a Password\" placeholder=\"Create a Password\" value=\"\" aria-invalid=\"false\"></div></div>\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_studentSignUpDlg-passwordConfirm\" role=\"presentation\" widgetid=\"studentSignUpDlg-passwordConfirm\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"studentSignUpDlg-passwordConfirm\" type=\"password\" id=\"studentSignUpDlg-passwordConfirm\" tabindex=\"257\" title=\"Retype Your Password\" placeholder=\"Retype Your Password\" value=\"\" aria-invalid=\"false\"></div></div>\n            </div>\n            <div id=\"studentSignUpDlg-actions\">\n                <button id=\"studentSignUpDlg-back\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" widgetid=\"studentSignUpDlg-back\" style=\"user-select: none;\">Back</button>\n                <button id=\"studentSignUpDlg-next\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" disabled=\"\" tabindex=\"260\" aria-disabled=\"true\" widgetid=\"studentSignUpDlg-next\" style=\"user-select: none;\">Next</button>\n            </div>\n        </div></div><div id=\"teacherSignUpDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration formRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" data-dojo-props=\"top:&quot;0px&quot;, modal: true\" style=\"display: none;\" role=\"dialog\" tabindex=\"0\" widgetid=\"teacherSignUpDlg\"><div class=\"mblSimpleDialogContainer\">\n            <div class=\"mysCloseButton\" onclick=\"dlgClose('teacherSignUpDlg')\"></div>\n            <div class=\"motivationOnline\"></div>\n            <div class=\"dialogTitle\"></div>\n            <div id=\"teacherSignUpDlg-0\" class=\"signup-step\">\n                <div class=\"dialogMessage\">Enter your registration code.</div>\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_teacherSignUpDlg-registrationCode\" role=\"presentation\" widgetid=\"teacherSignUpDlg-registrationCode\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"teacherSignUpDlg-registrationCode\" type=\"text\" autocapitalize=\"off\" id=\"teacherSignUpDlg-registrationCode\" tabindex=\"310\" title=\"Registration Code\" placeholder=\"Registration Code\" value=\"\" aria-invalid=\"false\"></div></div>\n            </div>\n            <div id=\"teacherSignUpDlg-1\" class=\"signup-step\">\n                <div class=\"signUpLine signUpTxt\">Fill in the fields to create your account.</div>\n                <div id=\"teacherSignUpDlg-zip-container\" class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitComboBox dijitValidationTextBox\" id=\"widget_teacherSignUpDlg-zip\" role=\"combobox\" aria-haspopup=\"true\" data-dojo-attach-point=\"_popupStateNode\" widgetid=\"teacherSignUpDlg-zip\" style=\"width: 430px;\"><div class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\" data-dojo-attach-point=\"_buttonNode\" role=\"presentation\"><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"></div><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" name=\"teacherSignUpDlg-zip\" type=\"text\" autocomplete=\"off\" data-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" tabindex=\"0\" id=\"teacherSignUpDlg-zip\" placeholder=\"School Zip Code\" maxlength=\"5\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div id=\"teacherSignUpDlg-schools\" class=\"signUpLine\">\n                    <table class=\"dijit dijitReset dijitInline dijitLeft dijitSelect dijitValidationTextBox dijitDownArrowButton dijitSelectFixedWidth dijitValidationTextBoxFixedWidth\" data-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing=\"0\" cellpadding=\"0\" role=\"listbox\" aria-haspopup=\"true\" tabindex=\"0\" id=\"teacherSignUpDlg-schoolList\" widgetid=\"teacherSignUpDlg-schoolList\" aria-expanded=\"false\" aria-invalid=\"false\" style=\"user-select: none; width: 430px;\"><tbody role=\"presentation\"><tr role=\"presentation\"><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"><div class=\"dijitReset dijitInputField dijitButtonText\" data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"><span role=\"option\" class=\"dijitReset dijitInline dijitSelectLabel dijitValidationTextBoxLabel \">School name</span></div><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><input type=\"hidden\" name=\"teacherSignUpDlg-schoolList\" data-dojo-attach-point=\"valueNode\" value=\"\" aria-hidden=\"true\"></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\" data-dojo-attach-point=\"titleNode\" role=\"presentation\"><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></td></tr></tbody></table>\n                </div>\n                <div class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin leftSideInput\" id=\"widget_teacherSignUpDlg-first\" role=\"presentation\" widgetid=\"teacherSignUpDlg-first\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"teacherSignUpDlg-first\" type=\"text\" id=\"teacherSignUpDlg-first\" tabindex=\"251\" title=\"First Name\" placeholder=\"First Name\" value=\"\" aria-invalid=\"false\"></div></div>\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin\" id=\"widget_teacherSignUpDlg-last\" role=\"presentation\" widgetid=\"teacherSignUpDlg-last\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"teacherSignUpDlg-last\" type=\"text\" id=\"teacherSignUpDlg-last\" tabindex=\"253\" title=\"Last Name\" placeholder=\"Last Name\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin leftSideInput\" id=\"widget_teacherSignUpDlg-email\" role=\"presentation\" widgetid=\"teacherSignUpDlg-email\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"teacherSignUpDlg-email\" type=\"text\" autocapitalize=\"off\" id=\"teacherSignUpDlg-email\" tabindex=\"332\" title=\"Email Address\" placeholder=\"Email\" value=\"\" aria-invalid=\"false\"></div></div>\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin\" id=\"widget_teacherSignUpDlg-emailConfirm\" role=\"presentation\" widgetid=\"teacherSignUpDlg-emailConfirm\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"teacherSignUpDlg-emailConfirm\" type=\"text\" autocapitalize=\"off\" id=\"teacherSignUpDlg-emailConfirm\" tabindex=\"333\" title=\"Email Confirmation\" placeholder=\"Email Confirmation\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin leftSideInput\" id=\"widget_teacherSignUpDlg-password\" role=\"presentation\" widgetid=\"teacherSignUpDlg-password\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"teacherSignUpDlg-password\" type=\"password\" id=\"teacherSignUpDlg-password\" tabindex=\"400\" title=\"Password\" placeholder=\"Password\" value=\"\" aria-invalid=\"false\"></div></div>\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin\" id=\"widget_teacherSignUpDlg-passwordConfirm\" role=\"presentation\" widgetid=\"teacherSignUpDlg-passwordConfirm\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"teacherSignUpDlg-passwordConfirm\" type=\"password\" id=\"teacherSignUpDlg-passwordConfirm\" tabindex=\"401\" title=\"Password Confirmation\" placeholder=\"Password Confirmation\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <table class=\"dijit dijitReset dijitInline dijitLeft dijitSelect dijitValidationTextBox dijitDownArrowButton adminJob\" data-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing=\"0\" cellpadding=\"0\" role=\"listbox\" aria-haspopup=\"true\" id=\"teacherSignUpDlg-jobTitle\" tabindex=\"425\" widgetid=\"teacherSignUpDlg-jobTitle\" aria-expanded=\"false\" aria-invalid=\"false\" style=\"user-select: none;\"><tbody role=\"presentation\"><tr role=\"presentation\"><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"><div class=\"dijitReset dijitInputField dijitButtonText\" data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"><span role=\"option\" class=\"dijitReset dijitInline dijitSelectLabel dijitValidationTextBoxLabel \">Teacher</span></div><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><input type=\"hidden\" name=\"teacherSignUpDlg-jobTitle\" data-dojo-attach-point=\"valueNode\" value=\"Teacher\" aria-hidden=\"true\"></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\" data-dojo-attach-point=\"titleNode\" role=\"presentation\"><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></td></tr></tbody></table>\n                </div>\n                <div class=\"signUpLine adminSybscribe\">\n                        <input type=\"checkbox\" id=\"teacherSignUpDlg-subscribe\" style=\"width: 18px; user-select: none;\" value=\"1\" data-dojo-type=\"dojox.mobile.CheckBox\" class=\"mblCheckBox unselectable\" tabindex=\"0\" widgetid=\"teacherSignUpDlg-subscribe\">\n                        <label for=\"teacherSignUpDlg-subscribe\">Yes, please continue to keep me updated on product notifications and services available for Total Motivation.</label>\n                </div>\n            </div>\n            <div id=\"teacherSignUpDlg-2\" class=\"signup-step\">\n                <div class=\"dialogMessage\">\n                    <h3>Congratulations!</h3>\n                    <p>You have registered and have created your account.</p>\n                </div>\n                <div>\n                    <button data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" id=\"dojox_mobile_Button_0\" widgetid=\"dojox_mobile_Button_0\" style=\"user-select: none;\">Log in</button>\n                </div>\n            </div>\n\n            <div id=\"teacherSignUpDlg-actions\">\n                <button id=\"teacherSignUpDlg-back\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" widgetid=\"teacherSignUpDlg-back\" style=\"user-select: none;\">Cancel</button>\n                <button id=\"teacherSignUpDlg-next\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" disabled=\"\" tabindex=\"390\" aria-disabled=\"true\" widgetid=\"teacherSignUpDlg-next\" style=\"user-select: none;\">Next</button>\n            </div>\n        </div></div><div id=\"adminSignUpDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration formRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" data-dojo-props=\"top:&quot;0px&quot;, modal: true\" style=\"display: none;\" role=\"dialog\" tabindex=\"0\" widgetid=\"adminSignUpDlg\"><div class=\"mblSimpleDialogContainer\">\n            <div class=\"mysCloseButton\" onclick=\"dlgClose('adminSignUpDlg')\"></div>\n            <div class=\"motivationOnline\"></div>\n            <div class=\"dialogTitle\"></div>\n            <div class=\"dialogMessage\"></div>\n            <div id=\"adminSignUpDlg-0\" class=\"signup-step\">\n                <div class=\"signUpLine signUpTxt\">Fill in the fields to create your account.</div>\n                <div id=\"adminSignUpDlg-zip-container\" class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitComboBox dijitValidationTextBox\" id=\"widget_adminSignUpDlg-zip\" role=\"combobox\" aria-haspopup=\"true\" data-dojo-attach-point=\"_popupStateNode\" widgetid=\"adminSignUpDlg-zip\" style=\"width: 430px;\"><div class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\" data-dojo-attach-point=\"_buttonNode\" role=\"presentation\"><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"></div><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" name=\"adminSignUpDlg-zip\" type=\"text\" autocomplete=\"off\" data-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" tabindex=\"0\" id=\"adminSignUpDlg-zip\" placeholder=\"School Zip Code\" maxlength=\"5\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div id=\"adminSignUpDlg-schools\" class=\"signUpLine\">\n                    <table class=\"dijit dijitReset dijitInline dijitLeft dijitSelect dijitValidationTextBox dijitDownArrowButton dijitSelectFixedWidth dijitValidationTextBoxFixedWidth\" data-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing=\"0\" cellpadding=\"0\" role=\"listbox\" aria-haspopup=\"true\" tabindex=\"0\" id=\"adminSignUpDlg-schoolList\" widgetid=\"adminSignUpDlg-schoolList\" aria-expanded=\"false\" aria-invalid=\"false\" style=\"user-select: none; width: 430px;\"><tbody role=\"presentation\"><tr role=\"presentation\"><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"><div class=\"dijitReset dijitInputField dijitButtonText\" data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"><span role=\"option\" class=\"dijitReset dijitInline dijitSelectLabel dijitValidationTextBoxLabel \">School name</span></div><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><input type=\"hidden\" name=\"adminSignUpDlg-schoolList\" data-dojo-attach-point=\"valueNode\" value=\"\" aria-hidden=\"true\"></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\" data-dojo-attach-point=\"titleNode\" role=\"presentation\"><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></td></tr></tbody></table>\n                </div>\n                <div class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin leftSideInput\" id=\"widget_adminSignUpDlg-first\" role=\"presentation\" widgetid=\"adminSignUpDlg-first\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"adminSignUpDlg-first\" type=\"text\" id=\"adminSignUpDlg-first\" tabindex=\"251\" title=\"First Name\" placeholder=\"First Name\" value=\"\" aria-invalid=\"false\"></div></div>\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin\" id=\"widget_adminSignUpDlg-last\" role=\"presentation\" widgetid=\"adminSignUpDlg-last\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"adminSignUpDlg-last\" type=\"text\" id=\"adminSignUpDlg-last\" tabindex=\"253\" title=\"Last Name\" placeholder=\"Last Name\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin leftSideInput\" id=\"widget_adminSignUpDlg-email\" role=\"presentation\" widgetid=\"adminSignUpDlg-email\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"adminSignUpDlg-email\" type=\"text\" autocapitalize=\"off\" id=\"adminSignUpDlg-email\" tabindex=\"332\" title=\"Email Address\" placeholder=\"Email\" value=\"\" aria-invalid=\"false\"></div></div>\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin\" id=\"widget_adminSignUpDlg-emailConfirm\" role=\"presentation\" widgetid=\"adminSignUpDlg-emailConfirm\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"adminSignUpDlg-emailConfirm\" type=\"text\" autocapitalize=\"off\" id=\"adminSignUpDlg-emailConfirm\" tabindex=\"333\" title=\"Email Confirmation\" placeholder=\"Email Confirmation\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin leftSideInput\" id=\"widget_adminSignUpDlg-password\" role=\"presentation\" widgetid=\"adminSignUpDlg-password\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"adminSignUpDlg-password\" type=\"password\" id=\"adminSignUpDlg-password\" tabindex=\"400\" title=\"Password\" placeholder=\"Password\" value=\"\" aria-invalid=\"false\"></div></div>\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin\" id=\"widget_adminSignUpDlg-passwordConfirm\" role=\"presentation\" widgetid=\"adminSignUpDlg-passwordConfirm\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"adminSignUpDlg-passwordConfirm\" type=\"password\" id=\"adminSignUpDlg-passwordConfirm\" tabindex=\"401\" title=\"Password Confirmation\" placeholder=\"Password Confirmation\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <table class=\"dijit dijitReset dijitInline dijitLeft dijitSelect dijitValidationTextBox dijitDownArrowButton adminJob\" data-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing=\"0\" cellpadding=\"0\" role=\"listbox\" aria-haspopup=\"true\" id=\"adminSignUpDlg-jobTitle\" tabindex=\"425\" widgetid=\"adminSignUpDlg-jobTitle\" aria-expanded=\"false\" aria-invalid=\"false\" style=\"user-select: none;\"><tbody role=\"presentation\"><tr role=\"presentation\"><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"><div class=\"dijitReset dijitInputField dijitButtonText\" data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"><span role=\"option\" class=\"dijitReset dijitInline dijitSelectLabel dijitValidationTextBoxLabel \">Job Title</span></div><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><input type=\"hidden\" name=\"adminSignUpDlg-jobTitle\" data-dojo-attach-point=\"valueNode\" value=\"\" aria-hidden=\"true\"></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\" data-dojo-attach-point=\"titleNode\" role=\"presentation\"><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></td></tr></tbody></table>\n                </div>\n                <div class=\"signUpLine adminSybscribe\">\n                    <input type=\"checkbox\" id=\"adminSignUpDlg-subscribe\" style=\"width: 18px; user-select: none;\" value=\"1\" data-dojo-type=\"dojox.mobile.CheckBox\" class=\"mblCheckBox unselectable\" tabindex=\"0\" widgetid=\"adminSignUpDlg-subscribe\">\n                    <label for=\"adminSignUpDlg-subscribe\">Yes, please continue to keep me updated on product notifications and services available for Total Motivation.</label>\n                </div>\n            </div>\n            <div id=\"adminSignUpDlg-1\" class=\"signup-step\">\n                <div class=\"dialogMessage\">\n                    <p>Enter the Administrator Registration Code below.</p>\n                </div>\n                <div class=\"dijit dijitReset dijitInline dijitLeft dialogInput dialogInputSmall dijitTextBox dijitValidationTextBox dijitTextBoxIncomplete dijitValidationTextBoxIncomplete dijitIncomplete\" id=\"widget_adminSignUpDlg-adminCode\" role=\"presentation\" widgetid=\"adminSignUpDlg-adminCode\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"adminSignUpDlg-adminCode\" type=\"text\" id=\"adminSignUpDlg-adminCode\" tabindex=\"430\" title=\"Administrator Registration Code\" aria-required=\"true\" placeholder=\"Administrator Registration Code\" value=\"\" aria-invalid=\"false\"></div></div>\n                <button id=\"adminSignUpDlg-noRegCode\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" widgetid=\"adminSignUpDlg-noRegCode\" style=\"user-select: none;\">I dont have one</button>\n            </div>\n            <div id=\"adminSignUpDlg-2\" class=\"signup-step\">\n                <div id=\"adminCongrats\">\n                    <div class=\"dialogMessage\">\n                        <h3>Congratulations!</h3>\n                        <p>You have registered and have created your account.</p>\n                    </div>\n                    <div>\n                        <button data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" id=\"dojox_mobile_Button_1\" widgetid=\"dojox_mobile_Button_1\" style=\"user-select: none;\">Log in</button>\n                    </div>\n                </div>\n                <div id=\"adminMessage\" style=\"display: none\">\n                    <div class=\"dialogMessage\">\n                        <h3>Thank you for registering!</h3>\n                        <p></p>\n                    </div>\n                </div>\n            </div>\n            <div id=\"adminSignUpDlg-actions\">\n                <button id=\"adminSignUpDlg-back\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" widgetid=\"adminSignUpDlg-back\" style=\"user-select: none;\">Back</button>\n                <button id=\"adminSignUpDlg-next\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" disabled=\"\" tabindex=\"440\" aria-disabled=\"true\" widgetid=\"adminSignUpDlg-next\" style=\"user-select: none;\">Next</button>\n            </div>\n        </div></div><div id=\"newSchoolDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration formRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" data-dojo-props=\"top:&quot;0px&quot;, modal: true\" style=\"display: none;\" role=\"dialog\" tabindex=\"0\" widgetid=\"newSchoolDlg\"><div class=\"mblSimpleDialogContainer\">\n            <div class=\"mysCloseButton\" onclick=\"dlgClose('newSchoolDlg')\"></div>\n            <div class=\"motivationOnline\"></div>\n            <div class=\"dialogTitle\">New School</div>\n            <div id=\"newSchoolDlg-0\" class=\"signup-step\">\n                <div class=\"dialogMessage\"><p>Enter your subscription code to create a new account.</p><p>If you have an existing school account that you would like to continue using, please close this dialog and use the School Administrator credentials to log in. After logging in, go to the help menu and choose \"Add Seats\" to use your subscription code(s).</p></div>\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_newSchoolDlg-subscriptionCode\" role=\"presentation\" widgetid=\"newSchoolDlg-subscriptionCode\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"newSchoolDlg-subscriptionCode\" type=\"text\" autocapitalize=\"off\" id=\"newSchoolDlg-subscriptionCode\" tabindex=\"310\" title=\"Subscription Code\" placeholder=\"Subscription Code\" value=\"\" aria-invalid=\"false\"></div></div>\n            </div>\n            <div id=\"newSchoolDlg-1\" class=\"signup-step\">\n                <div class=\"signUpLine signUpTxt\">Fill in the fields to create your account.</div>\n                <div id=\"newSchoolDlg-zip-container\" class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin dialogInputFull\" id=\"widget_newSchoolDlg-zip\" role=\"presentation\" widgetid=\"newSchoolDlg-zip\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"newSchoolDlg-zip\" type=\"text\" id=\"newSchoolDlg-zip\" tabindex=\"231\" title=\"School Zip Code\" placeholder=\"School Zip Code\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div id=\"newSchoolDlg-school\" class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin dialogInputFull\" id=\"widget_newSchoolDlg-schoolList\" role=\"presentation\" widgetid=\"newSchoolDlg-schoolList\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"newSchoolDlg-schoolList\" type=\"text\" id=\"newSchoolDlg-schoolList\" tabindex=\"241\" title=\"School Name\" placeholder=\"School Name\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin leftSideInput\" id=\"widget_newSchoolDlg-first\" role=\"presentation\" widgetid=\"newSchoolDlg-first\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"teacherSignUpDlg-first\" type=\"text\" id=\"newSchoolDlg-first\" tabindex=\"251\" title=\"First Name\" placeholder=\"First Name\" value=\"\" aria-invalid=\"false\"></div></div>\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin\" id=\"widget_newSchoolDlg-last\" role=\"presentation\" widgetid=\"newSchoolDlg-last\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"newSchoolDlg-last\" type=\"text\" id=\"newSchoolDlg-last\" tabindex=\"253\" title=\"Last Name\" placeholder=\"Last Name\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin leftSideInput\" id=\"widget_newSchoolDlg-email\" role=\"presentation\" widgetid=\"newSchoolDlg-email\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"newSchoolDlg-email\" type=\"text\" autocapitalize=\"off\" id=\"newSchoolDlg-email\" tabindex=\"332\" title=\"Email Address\" placeholder=\"Email\" value=\"\" aria-invalid=\"false\"></div></div>\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin\" id=\"widget_newSchoolDlg-emailConfirm\" role=\"presentation\" widgetid=\"newSchoolDlg-emailConfirm\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"newSchoolDlg-emailConfirm\" type=\"text\" autocapitalize=\"off\" id=\"newSchoolDlg-emailConfirm\" tabindex=\"333\" title=\"Email Confirmation\" placeholder=\"Email Confirmation\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div id=\"newSchoolDlg-userId-container\" class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin dialogInputFull\" id=\"widget_newSchoolDlg-userId\" role=\"presentation\" widgetid=\"newSchoolDlg-userId\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"newSchoolDlg-userId\" type=\"text\" id=\"newSchoolDlg-userId\" tabindex=\"350\" title=\"User ID (Cannot be an email address)\" placeholder=\"User ID (Cannot be an email address)\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin leftSideInput\" id=\"widget_newSchoolDlg-password\" role=\"presentation\" widgetid=\"newSchoolDlg-password\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"newSchoolDlg-password\" type=\"password\" id=\"newSchoolDlg-password\" tabindex=\"400\" title=\"Password\" placeholder=\"Password\" value=\"\" aria-invalid=\"false\"></div></div>\n                    <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInputAdmin\" id=\"widget_newSchoolDlg-passwordConfirm\" role=\"presentation\" widgetid=\"newSchoolDlg-passwordConfirm\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"newSchoolDlg-passwordConfirm\" type=\"password\" id=\"newSchoolDlg-passwordConfirm\" tabindex=\"401\" title=\"Password Confirmation\" placeholder=\"Password Confirmation\" value=\"\" aria-invalid=\"false\"></div></div>\n                </div>\n                <div class=\"signUpLine\">\n                    <table class=\"dijit dijitReset dijitInline dijitLeft dijitSelect dijitValidationTextBox dijitDownArrowButton adminJob\" data-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing=\"0\" cellpadding=\"0\" role=\"listbox\" aria-haspopup=\"true\" id=\"newSchoolDlg-jobTitle\" tabindex=\"425\" widgetid=\"newSchoolDlg-jobTitle\" aria-expanded=\"false\" aria-invalid=\"false\" style=\"user-select: none;\"><tbody role=\"presentation\"><tr role=\"presentation\"><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"><div class=\"dijitReset dijitInputField dijitButtonText\" data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"><span role=\"option\" class=\"dijitReset dijitInline dijitSelectLabel dijitValidationTextBoxLabel \">Teacher</span></div><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><input type=\"hidden\" name=\"newSchoolDlg-jobTitle\" data-dojo-attach-point=\"valueNode\" value=\"Teacher\" aria-hidden=\"true\"></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\" data-dojo-attach-point=\"titleNode\" role=\"presentation\"><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></td></tr></tbody></table>\n                </div>\n            </div>\n            <div id=\"newSchoolDlg-2\" class=\"signup-step\">\n                <div class=\"dialogMessage\">\n                    <h3>Congratulations!</h3>\n                    <p>You are ready to begin.</p><p id=\"newSchoolCongratsMsg\">To use any additional subscription codes you may have, go to the \"Add Seats\" option in the Help menu.</p>\n                </div>\n                <div>\n                    <button data-dojo-type=\"dojox.mobile.Button\" id=\"newSchoolDlg-login\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" widgetid=\"newSchoolDlg-login\" style=\"user-select: none;\">Log in</button>\n                </div>\n            </div>\n\n            <div id=\"newSchoolDlg-actions\">\n                <button id=\"newSchoolDlg-back\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" widgetid=\"newSchoolDlg-back\" style=\"user-select: none;\">Cancel</button>\n                <button id=\"newSchoolDlg-next\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" disabled=\"\" tabindex=\"390\" aria-disabled=\"true\" widgetid=\"newSchoolDlg-next\" style=\"user-select: none;\">Next</button>\n            </div>\n        </div></div><div id=\"changePasswordDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration formRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" data-dojo-props=\"modal:true\" style=\"display: none;\" role=\"dialog\" tabindex=\"0\" widgetid=\"changePasswordDlg\"><div class=\"mblSimpleDialogContainer\">\n            <div class=\"mysCloseButton\" onclick=\"dlgClose('changePasswordDlg')\"></div>\n            <div class=\"dialogTitle\">Set Password</div>\n            <div id=\"changePasswordDlg-schools\"></div>\n            <div class=\"dijit dijitReset dijitInline dijitLeft dialogInput dijitTextBox dijitValidationTextBox dijitTextBoxIncomplete dijitValidationTextBoxIncomplete dijitIncomplete\" id=\"widget_changePasswordDlg-password\" role=\"presentation\" widgetid=\"changePasswordDlg-password\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"changePasswordDlg-password\" type=\"password\" id=\"changePasswordDlg-password\" tabindex=\"450\" title=\"Create a Password\" placeholder=\"Type Your Password\" aria-required=\"true\" value=\"\" aria-invalid=\"false\"></div></div>\n            <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationTextBox dialogInput\" id=\"widget_changePasswordDlg-passwordConfirm\" role=\"presentation\" widgetid=\"changePasswordDlg-passwordConfirm\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"changePasswordDlg-passwordConfirm\" type=\"password\" id=\"changePasswordDlg-passwordConfirm\" tabindex=\"451\" title=\"Retype Your Password\" placeholder=\"Retype Your Password\" value=\"\" aria-invalid=\"false\"></div></div>\n            <div style=\"text-align:center;\">\n                <button id=\"changePasswordDlg-submit\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"452\" widgetid=\"changePasswordDlg-submit\" style=\"user-select: none;\">Set Password</button>\n            </div>\n        </div></div><div id=\"forgotDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration formRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" data-dojo-props=\"modal:true\" style=\"display: none;\" role=\"dialog\" tabindex=\"0\" widgetid=\"forgotDlg\"><div class=\"mblSimpleDialogContainer\">\n            <div class=\"mysCloseButton\" onclick=\"dlgClose('forgotDlg')\"></div>\n            <div class=\"dialogTitle\">Password Recovery</div>\n            <div id=\"forgotMessage\" style=\"margin-bottom:1em\">If you are a student then contact your teacher or school administrator to recover your login information.</div>\n            <div class=\"forgotDiv\">\n                <div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dialogInput\" id=\"widget_forgotPasswdEmail\" role=\"presentation\" widgetid=\"forgotPasswdEmail\"><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"forgotPasswdEmail\" type=\"text\" id=\"forgotPasswdEmail\" autocapitalize=\"off\" tabindex=\"500\" title=\"Email address\" placeholder=\"Email address\" value=\"\"></div></div>\n            </div>\n            <div style=\"text-align:center;\">\n                <button data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" id=\"dojox_mobile_Button_2\" widgetid=\"dojox_mobile_Button_2\" style=\"user-select: none;\">Cancel</button>\n                <button id=\"submitForgetUser\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" widgetid=\"submitForgetUser\" style=\"user-select: none;\">Submit</button>\n            </div>\n        </div></div><div id=\"changeLoginDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration formRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" data-dojo-props=\"modal:true, top:&quot;80px&quot;\" style=\"display: none; overflow: auto;\" role=\"dialog\" tabindex=\"0\" widgetid=\"changeLoginDlg\"><div class=\"mblSimpleDialogContainer\">\n            <div style=\"margin-bottom:0.5em;\">Please enter your First Name, Last Name, and choose a new User ID and Password. The User ID and Password you enter should be used for all future logins.</div>\n            <div class=\"dijit dijitReset dijitInline dijitLeft dialogInput dijitTextBox dijitValidationTextBox dijitTextBoxIncomplete dijitValidationTextBoxIncomplete dijitIncomplete\" id=\"widget_changeLoginFirstName\" role=\"presentation\" widgetid=\"changeLoginFirstName\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"changeLoginFirstName\" type=\"text\" id=\"changeLoginFirstName\" tabindex=\"600\" title=\"First Name\" placeholder=\"First Name\" aria-required=\"true\" value=\"\" aria-invalid=\"false\"></div></div>\n            <div class=\"dijit dijitReset dijitInline dijitLeft dialogInput dijitTextBox dijitValidationTextBox dijitTextBoxIncomplete dijitValidationTextBoxIncomplete dijitIncomplete\" id=\"widget_changeLoginLastName\" role=\"presentation\" widgetid=\"changeLoginLastName\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"changeLoginLastName\" type=\"text\" id=\"changeLoginLastName\" tabindex=\"601\" title=\"Last Name\" placeholder=\"Last Name\" aria-required=\"true\" value=\"\" aria-invalid=\"false\"></div></div>\n            <div class=\"dijit dijitReset dijitInline dijitLeft dialogInput dijitTextBox dijitValidationTextBox dijitTextBoxIncomplete dijitValidationTextBoxIncomplete dijitIncomplete\" id=\"widget_changeLoginUserId\" role=\"presentation\" widgetid=\"changeLoginUserId\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"changeLoginUserId\" type=\"text\" id=\"changeLoginUserId\" autocapitalize=\"off\" tabindex=\"602\" title=\"New User ID\" placeholder=\"User ID\" aria-required=\"true\" value=\"\" aria-invalid=\"false\"></div></div>\n            <div class=\"dijit dijitReset dijitInline dijitLeft dialogInput dijitTextBox dijitValidationTextBox dijitTextBoxIncomplete dijitValidationTextBoxIncomplete dijitIncomplete\" id=\"widget_changeLoginPassword\" role=\"presentation\" widgetid=\"changeLoginPassword\"><div class=\"dijitReset dijitValidationContainer\"><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"presentation\"></div><div class=\"dijitReset dijitInputField dijitInputContainer\"><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" name=\"changeLoginPassword\" type=\"password\" id=\"changeLoginPassword\" tabindex=\"603\" title=\"New Password\" placeholder=\"Password\" aria-required=\"true\" value=\"\" aria-invalid=\"false\"></div></div>\n            <div style=\"text-align:center;\">\n                <button id=\"changeLoginOKButton\" data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" disabled=\"\" tabindex=\"-1\" aria-disabled=\"true\" widgetid=\"changeLoginOKButton\" style=\"user-select: none;\">OK</button>\n            </div>\n        </div></div><div id=\"ios-warning-message\" data-dojo-type=\"dojox.mobile.SimpleDialog\" class=\"mblSimpleDialog mblSimpleDialogDecoration\" role=\"dialog\" aria-labelledby=\"dojo_mobile_mblSimpleDialogTitle_0\" aria-describedby=\"dojo_mobile_mblSimpleDialogText_0\" tabindex=\"0\" widgetid=\"ios-warning-message\" style=\"display: none;\"><div class=\"mblSimpleDialogContainer\">\n        <div class=\"mblSimpleDialogTitle\" id=\"dojo_mobile_mblSimpleDialogTitle_0\">Warning</div>\n        <div class=\"mblSimpleDialogText\" id=\"dojo_mobile_mblSimpleDialogText_0\">It looks like you are using a version of iOS that has a known bug which can cause Safari to crash. Please upgrade to at least iOS 7.1 to avoid this issue..</div>\n        <button data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblSimpleDialogButton unselectable\" style=\"width: 100px; user-select: none;\" tabindex=\"0\" id=\"dojox_mobile_Button_3\" widgetid=\"dojox_mobile_Button_3\">OK</button>\n    </div></div><div id=\"contactUsDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration formRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" data-dojo-props=\"modal:true\" style=\"display: none; overflow: auto;\" role=\"dialog\" tabindex=\"0\" widgetid=\"contactUsDlg\"><div class=\"mblSimpleDialogContainer\">\n    <div class=\"mysCloseButton\" onclick=\"hideContactUsDlg()\"></div>\n        <div class=\"contactUsDlgTitle\">Motivation Online Support</div>\n        <table style=\"width:100%;\">\n            <tbody><tr>\n                <td style=\"text-align:right;\">Phone:</td>\n                <td style=\"text-align:left;\">855.780.9889</td>\n            </tr>\n        </tbody></table>\n        <div style=\"margin-bottom:30px;\">\n            <span data-dojo-type=\"dojox.mobile.ToolBarButton\" data-dojo-props=\"label:&quot;Email Support&quot;, onClick:showMojoFormWidget, icon:&quot;dojo-1.10.1/dojox/mobile/themes/custom/images/tab-icon-14w.png&quot;\" role=\"button\" class=\"mblToolBarButton mblToolBarButtonHasIcon\" tabindex=\"0\" id=\"dojox_mobile_ToolBarButton_0\" widgetid=\"dojox_mobile_ToolBarButton_0\"><span class=\"mblToolBarButtonBody mblToolBarButtonLabeledIcon mblColorDefault\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" role=\"presentation\" class=\"mblToolBarButtonText\"><tbody><tr><td class=\"mblToolBarButtonIcon\"><img alt=\"\" src=\"dojo-1.10.1/dojox/mobile/themes/custom/images/tab-icon-14w.png\" class=\"mblImageIcon\"></td><td class=\"mblToolBarButtonLabel\">Email Support</td></tr></tbody></table></span></span>\n        </div>\n        <br>\n        <div class=\"contactUsDlgTitle\">Mentoring Minds Customer Service</div>\n        <table>\n            <tbody><tr>\n                <td>Email:</td>\n                <td><a href=\"mailto:info@mentoringminds.com\">info@mentoringminds.com</a>\n                </td>\n            </tr>\n            <tr>\n                <td>Phone:</td>\n                <td>800.585.5258</td>\n            </tr>\n            <tr>\n                <td>Fax:</td>\n                <td>800.838.8186</td>\n            </tr>\n            <tr>\n                <td>Mail:</td>\n                <td>Mentoring Minds, PO Box 8843, Tyler, Texas, 75711-8843</td>\n            </tr>\n        </tbody></table>\n    </div></div><div id=\"termsDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration largeFormRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" title=\"Terms and Conditions\" data-dojo-props=\"top:&quot;0px&quot;, modal: true\" style=\"display: none;\" role=\"dialog\" tabindex=\"0\" widgetid=\"termsDlg\"><div class=\"mblSimpleDialogContainer\">\n        <div class=\"mysCloseButton\" onclick=\"dlgClose('termsDlg')\"></div>\n        <div class=\"dialogTitle\">Terms and Conditions</div>\n        <div dojotype=\"dijit.layout.ContentPane\" style=\"height: 200px; overflow: auto;\" class=\"dijitContentPane\" id=\"dijit_layout_ContentPane_0\" widgetid=\"dijit_layout_ContentPane_0\">\n            <link rel=\"schema.DC\" href=\"http://purl.org/dc/elements/1.1/\" hreflang=\"en\">\n            <link rel=\"schema.DCTERMS\" href=\"http://purl.org/dc/terms/\" hreflang=\"en\">\n            <link rel=\"schema.DCTYPE\" href=\"http://purl.org/dc/dcmitype/\" hreflang=\"en\">\n            <link rel=\"schema.DCAM\" href=\"http://purl.org/dc/dcam/\" hreflang=\"en\">\n            <p class=\"P1\" id=\"termsDlgContainer\">\n            </p>\n        </div>\n        <button data-dojo-type=\"dojox.mobile.Button\" class=\"mblButton mblGreyButton unselectable\" tabindex=\"0\" id=\"dojox_mobile_Button_4\" widgetid=\"dojox_mobile_Button_4\" style=\"user-select: none;\">I Agree</button>\n    </div></div><div id=\"termsDlgHelp\" class=\"mblSimpleDialog mblSimpleDialogDecoration largeFormRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" title=\"Terms and Conditions\" data-dojo-props=\"top:&quot;0px&quot;, modal: true\" style=\"display: none;\" role=\"dialog\" tabindex=\"0\" widgetid=\"termsDlgHelp\"><div class=\"mblSimpleDialogContainer\">\n        <div class=\"mysCloseButton\" onclick=\"dlgClose('termsDlgHelp')\"></div>\n        <div class=\"dialogTitle\">Terms and Conditions</div>\n        <div dojotype=\"dijit.layout.ContentPane\" style=\"height: 170px; overflow: auto;\" class=\"dijitContentPane\" id=\"dijit_layout_ContentPane_1\" widgetid=\"dijit_layout_ContentPane_1\">\n            <link rel=\"schema.DC\" href=\"http://purl.org/dc/elements/1.1/\" hreflang=\"en\">\n            <link rel=\"schema.DCTERMS\" href=\"http://purl.org/dc/terms/\" hreflang=\"en\">\n            <link rel=\"schema.DCTYPE\" href=\"http://purl.org/dc/dcmitype/\" hreflang=\"en\">\n            <link rel=\"schema.DCAM\" href=\"http://purl.org/dc/dcam/\" hreflang=\"en\">\n            <p class=\"P1\" id=\"termsDlgHelpContainer\">\n            </p>\n        </div>\n    </div></div><div id=\"preloaderDlg\" class=\"mblSimpleDialog mblSimpleDialogDecoration largeFormRect\" data-dojo-type=\"dojox.mobile.SimpleDialog\" title=\"Optimizing for Motivation Online\" data-dojo-props=\"top:&quot;0px&quot;, modal: true\" style=\"display: none;\" role=\"dialog\" tabindex=\"0\" widgetid=\"preloaderDlg\"><div class=\"mblSimpleDialogContainer\">\n        <div id=\"preloaderDlgMsg\" class=\"dialogTitle\">We are optimizing your browser for Motivation Online.</div>\n        <div id=\"web-app-loading-progress-monitor2\" class=\"tiny-green\"><div style=\"width: 0px; overflow: hidden;\">0.2762237762237762%&nbsp;</div></div>\n    </div></div></body>"}
